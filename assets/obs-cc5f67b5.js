var q=Object.defineProperty;var X=(t,e,n)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>(X(t,typeof e!="symbol"?e+"":e,n),n);import{d as defineComponent,x as useStorage,v as reactive,aw as OBSWebSocket,s as ref,A as onMounted,ax as VXETable,ay as onUnmounted,r as resolveComponent,o as openBlock,b as createElementBlock,C as withDirectives,D as vShow,u as unref,f as createBaseVNode,P as normalizeStyle,a as createVNode,w as withCtx,a0 as isRef,F as createTextVNode,G as Fragment}from"./vendor-5deaef20.js";import{d as data$2,Z as ZoneInfo$1}from"./zoneInfo-3b24bf2b.js";const data$1={Companions:12,CustomDeliveries:25,DeepDungeons:21,DisciplesOfTheHand:17,DisciplesOfTheLand:16,Dungeons:2,DutyRoulette:1,Eureka:26,Fates:8,GoldSaucer:19,GrandCompany:11,Guildhests:3,Levequests:10,MaskedCarnivale:27,OverallCompletion:14,PlayerCommendation:15,Pvp:6,QuestBattles:7,Raids:5,RetainerVentures:18,TreasureHunt:9,Trials:4,TribalQuests:13,UltimateRaids:28,VCDungeonFinder:30,WondrousTails:24},ContentType$1=data$1,languages=["en","de","fr","ja","cn","ko"],isLang=t=>{const e=languages;return t===void 0?!1:e.includes(t)},langToLocale=t=>({en:"en",de:"de",fr:"fr",ja:"ja",cn:"zh-CN",ko:"ko"})[t];class UnreachableCode extends Error{constructor(){super("This code shouldn't be reached")}}let inited=!1,wsUrl=null,ws=null,queue=[],rseqCounter=0;const responsePromises={},subscribers={},sendMessage=(t,e)=>{ws?queue?queue.push(t):ws.send(JSON.stringify(t)):queue?queue.push([t,e]):window.OverlayPluginApi.callHandler(JSON.stringify(t),e)},processEvent=t=>{init();const e=subscribers[t.type];e==null||e.forEach(n=>{try{n(t)}catch(r){console.error(r)}})},dispatchOverlayEvent=processEvent,addOverlayListener$1=(t,e)=>{var n;init(),subscribers[t]||(subscribers[t]=[],queue||sendMessage({call:"subscribe",events:[t]})),(n=subscribers[t])==null||n.push(e)},removeOverlayListener$1=(t,e)=>{if(init(),subscribers[t]){const n=subscribers[t],r=n==null?void 0:n.indexOf(e);r!==void 0&&r>-1&&(n==null||n.splice(r,1))}},callOverlayHandlerInternal=t=>{init();const e={...t,rseq:0};let n;return ws?(e.rseq=rseqCounter++,n=new Promise((r,i)=>{responsePromises[e.rseq]={resolve:r,reject:i}}),sendMessage(e)):n=new Promise((r,i)=>{sendMessage(e,o=>{if(o===null){r(o);return}const a=JSON.parse(o);a.$error?i(a):r(a)})}),n},callOverlayHandlerOverrideMap={},callOverlayHandler=t=>{init();const e=t.call;return(callOverlayHandlerOverrideMap[e]??callOverlayHandlerInternal)(t)},init=()=>{if(!inited){if(typeof window<"u"){if(wsUrl=new URLSearchParams(window.location.search).get("OVERLAY_WS"),wsUrl!==null){const t=function(e){ws=new WebSocket(e),ws.addEventListener("error",n=>{console.error(n)}),ws.addEventListener("open",()=>{console.log("Connected!");const n=queue??[];queue=null,sendMessage({call:"subscribe",events:Object.keys(subscribers)});for(const r of n)Array.isArray(r)||sendMessage(r)}),ws.addEventListener("message",n=>{try{if(typeof n.data!="string"){console.error("Invalid message data received: ",n);return}const r=JSON.parse(n.data),i=(r==null?void 0:r.rseq)!==void 0?responsePromises[r.rseq]:void 0;r.rseq!==void 0&&i?(r.$error?i.reject(r):i.resolve(r),delete responsePromises[r.rseq]):processEvent(r)}catch{console.error("Invalid message received: ",n);return}}),ws.addEventListener("close",()=>{queue=null,console.log("Trying to reconnect..."),window.setTimeout(()=>{t(e)},300)})};t(wsUrl)}else{const t=function(){var n;if(!((n=window.OverlayPluginApi)!=null&&n.ready)){window.setTimeout(t,300);return}const e=queue??[];queue=null,window.__OverlayCallback=processEvent,sendMessage({call:"subscribe",events:Object.keys(subscribers)});for(const r of e)Array.isArray(r)&&sendMessage(r[0],r[1])};t()}window.addOverlayListener=addOverlayListener$1,window.removeOverlayListener=removeOverlayListener$1,window.callOverlayHandler=callOverlayHandler,window.dispatchOverlayEvent=dispatchOverlayEvent}inited=!0}},_Conditions={targetIsYou(){return(t,e)=>t.me===(e==null?void 0:e.target)},targetIsNotYou(){return(t,e)=>t.me!==(e==null?void 0:e.target)},caresAboutAOE(){return t=>t.role==="tank"||t.role==="healer"||t.CanAddle()||t.job==="BLU"},caresAboutMagical(){return t=>t.role==="tank"||t.role==="healer"||t.CanAddle()||t.job==="BLU"},caresAboutPhysical(){return t=>t.role==="tank"||t.role==="healer"||t.CanFeint()||t.job==="BLU"}},combatantMemoryKeys=["CurrentWorldID","WorldID","WorldName","BNpcID","BNpcNameID","PartyType","ID","OwnerID","WeaponId","Type","Job","Level","Name","CurrentHP","MaxHP","CurrentMP","MaxMP","PosX","PosY","PosZ","Heading","MonsterType","Status","ModelStatus","AggressionStatus","TargetID","IsTargetable","Radius","Distance","EffectiveDistance","NPCTargetID","CurrentGP","MaxGP","CurrentCP","MaxCP","PCTargetID","IsCasting1","IsCasting2","CastBuffID","CastTargetID","CastDurationCurrent","CastDurationMax","TransformationId"],latestLogDefinitions={GameLog:{type:"00",name:"GameLog",source:"FFXIV_ACT_Plugin",messageType:"ChatLog",fields:{type:0,timestamp:1,code:2,name:3,line:4},subFields:{code:{"0039":{name:"message",canAnonymize:!0},"0038":{name:"echo",canAnonymize:!0},"0044":{name:"dialog",canAnonymize:!0},"0839":{name:"message",canAnonymize:!0}}},firstOptionalField:void 0},ChangeZone:{type:"01",name:"ChangeZone",source:"FFXIV_ACT_Plugin",messageType:"Territory",fields:{type:0,timestamp:1,id:2,name:3},lastInclude:!0,canAnonymize:!0,firstOptionalField:void 0},ChangedPlayer:{type:"02",name:"ChangedPlayer",source:"FFXIV_ACT_Plugin",messageType:"ChangePrimaryPlayer",fields:{type:0,timestamp:1,id:2,name:3},playerIds:{2:3},lastInclude:!0,canAnonymize:!0,firstOptionalField:void 0},AddedCombatant:{type:"03",name:"AddedCombatant",source:"FFXIV_ACT_Plugin",messageType:"AddCombatant",fields:{type:0,timestamp:1,id:2,name:3,job:4,level:5,ownerId:6,worldId:7,world:8,npcNameId:9,npcBaseId:10,currentHp:11,hp:12,currentMp:13,mp:14,x:17,y:18,z:19,heading:20},playerIds:{2:3,6:null},canAnonymize:!0,firstOptionalField:void 0},RemovedCombatant:{type:"04",name:"RemovedCombatant",source:"FFXIV_ACT_Plugin",messageType:"RemoveCombatant",fields:{type:0,timestamp:1,id:2,name:3,job:4,level:5,owner:6,world:8,npcNameId:9,npcBaseId:10,hp:12,x:17,y:18,z:19,heading:20},playerIds:{2:3,6:null},canAnonymize:!0,firstOptionalField:void 0},PartyList:{type:"11",name:"PartyList",source:"FFXIV_ACT_Plugin",messageType:"PartyList",fields:{type:0,timestamp:1,partyCount:2,id0:3,id1:4,id2:5,id3:6,id4:7,id5:8,id6:9,id7:10,id8:11,id9:12,id10:13,id11:14,id12:15,id13:16,id14:17,id15:18,id16:19,id17:20,id18:21,id19:22,id20:23,id21:24,id22:25,id23:26},playerIds:{3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null,11:null,12:null,13:null,14:null,15:null,16:null,17:null,18:null,19:null,20:null,21:null,22:null,23:null,24:null,25:null,26:null},firstOptionalField:3,canAnonymize:!0,lastInclude:!0},PlayerStats:{type:"12",name:"PlayerStats",source:"FFXIV_ACT_Plugin",messageType:"PlayerStats",fields:{type:0,timestamp:1,job:2,strength:3,dexterity:4,vitality:5,intelligence:6,mind:7,piety:8,attackPower:9,directHit:10,criticalHit:11,attackMagicPotency:12,healMagicPotency:13,determination:14,skillSpeed:15,spellSpeed:16,tenacity:18,localContentId:19},canAnonymize:!0,lastInclude:!0,firstOptionalField:void 0},StartsUsing:{type:"20",name:"StartsUsing",source:"FFXIV_ACT_Plugin",messageType:"StartsCasting",fields:{type:0,timestamp:1,sourceId:2,source:3,id:4,ability:5,targetId:6,target:7,castTime:8,x:9,y:10,z:11,heading:12},possibleRsvFields:[5],blankFields:[6],playerIds:{2:3,6:7},canAnonymize:!0,firstOptionalField:void 0},Ability:{type:"21",name:"Ability",source:"FFXIV_ACT_Plugin",messageType:"ActionEffect",fields:{type:0,timestamp:1,sourceId:2,source:3,id:4,ability:5,targetId:6,target:7,flags:8,damage:9,targetCurrentHp:24,targetMaxHp:25,targetCurrentMp:26,targetMaxMp:27,targetX:30,targetY:31,targetZ:32,targetHeading:33,currentHp:34,maxHp:35,currentMp:36,maxMp:37,x:40,y:41,z:42,heading:43,sequence:44,targetIndex:45,targetCount:46},possibleRsvFields:[5],playerIds:{2:3,6:7},blankFields:[6],canAnonymize:!0,firstOptionalField:void 0},NetworkAOEAbility:{type:"22",name:"NetworkAOEAbility",source:"FFXIV_ACT_Plugin",messageType:"AOEActionEffect",fields:{type:0,timestamp:1,sourceId:2,source:3,id:4,ability:5,targetId:6,target:7,flags:8,damage:9,targetCurrentHp:24,targetMaxHp:25,targetCurrentMp:26,targetMaxMp:27,targetX:30,targetY:31,targetZ:32,targetHeading:33,currentHp:34,maxHp:35,currentMp:36,maxMp:37,x:40,y:41,z:42,heading:43,sequence:44,targetIndex:45,targetCount:46},possibleRsvFields:[5],playerIds:{2:3,6:7},blankFields:[6],canAnonymize:!0,firstOptionalField:void 0},NetworkCancelAbility:{type:"23",name:"NetworkCancelAbility",source:"FFXIV_ACT_Plugin",messageType:"CancelAction",fields:{type:0,timestamp:1,sourceId:2,source:3,id:4,name:5,reason:6},possibleRsvFields:[5],playerIds:{2:3},canAnonymize:!0,firstOptionalField:void 0},NetworkDoT:{type:"24",name:"NetworkDoT",source:"FFXIV_ACT_Plugin",messageType:"DoTHoT",fields:{type:0,timestamp:1,id:2,name:3,which:4,effectId:5,damage:6,currentHp:7,maxHp:8,currentMp:9,maxMp:10,x:13,y:14,z:15,heading:16,sourceId:17,source:18,damageType:19,sourceCurrentHp:20,sourceMaxHp:21,sourceCurrentMp:22,sourceMaxMp:23,sourceX:26,sourceY:27,sourceZ:28,sourceHeading:29},playerIds:{2:3,17:18},canAnonymize:!0,firstOptionalField:void 0},WasDefeated:{type:"25",name:"WasDefeated",source:"FFXIV_ACT_Plugin",messageType:"Death",fields:{type:0,timestamp:1,targetId:2,target:3,sourceId:4,source:5},playerIds:{2:3,4:5},canAnonymize:!0,firstOptionalField:void 0},GainsEffect:{type:"26",name:"GainsEffect",source:"FFXIV_ACT_Plugin",messageType:"StatusAdd",fields:{type:0,timestamp:1,effectId:2,effect:3,duration:4,sourceId:5,source:6,targetId:7,target:8,count:9,targetMaxHp:10,sourceMaxHp:11},possibleRsvFields:[3],playerIds:{5:6,7:8},canAnonymize:!0,firstOptionalField:void 0},HeadMarker:{type:"27",name:"HeadMarker",source:"FFXIV_ACT_Plugin",messageType:"TargetIcon",fields:{type:0,timestamp:1,targetId:2,target:3,id:6},playerIds:{2:3},canAnonymize:!0,firstOptionalField:void 0},NetworkRaidMarker:{type:"28",name:"NetworkRaidMarker",source:"FFXIV_ACT_Plugin",messageType:"WaymarkMarker",fields:{type:0,timestamp:1,operation:2,waymark:3,id:4,name:5,x:6,y:7,z:8},canAnonymize:!0,firstOptionalField:void 0},NetworkTargetMarker:{type:"29",name:"NetworkTargetMarker",source:"FFXIV_ACT_Plugin",messageType:"SignMarker",fields:{type:0,timestamp:1,operation:2,waymark:3,id:4,name:5,targetId:6,targetName:7},playerIds:{4:null,5:null},firstOptionalField:void 0},LosesEffect:{type:"30",name:"LosesEffect",source:"FFXIV_ACT_Plugin",messageType:"StatusRemove",fields:{type:0,timestamp:1,effectId:2,effect:3,sourceId:5,source:6,targetId:7,target:8,count:9},possibleRsvFields:[3],playerIds:{5:6,7:8},canAnonymize:!0,firstOptionalField:void 0},NetworkGauge:{type:"31",name:"NetworkGauge",source:"FFXIV_ACT_Plugin",messageType:"Gauge",fields:{type:0,timestamp:1,id:2,data0:3,data1:4,data2:5,data3:6},playerIds:{2:null},firstUnknownField:3,canAnonymize:!0,firstOptionalField:void 0},NetworkWorld:{type:"32",name:"NetworkWorld",source:"FFXIV_ACT_Plugin",messageType:"World",fields:{type:0,timestamp:1},isUnknown:!0,firstOptionalField:void 0},ActorControl:{type:"33",name:"ActorControl",source:"FFXIV_ACT_Plugin",messageType:"Director",fields:{type:0,timestamp:1,instance:2,command:3,data0:4,data1:5,data2:6,data3:7},canAnonymize:!0,firstOptionalField:void 0},NameToggle:{type:"34",name:"NameToggle",source:"FFXIV_ACT_Plugin",messageType:"NameToggle",fields:{type:0,timestamp:1,id:2,name:3,targetId:4,targetName:5,toggle:6},playerIds:{2:3,4:5},canAnonymize:!0,firstOptionalField:void 0},Tether:{type:"35",name:"Tether",source:"FFXIV_ACT_Plugin",messageType:"Tether",fields:{type:0,timestamp:1,sourceId:2,source:3,targetId:4,target:5,id:8},playerIds:{2:3,4:5},canAnonymize:!0,firstUnknownField:9,firstOptionalField:void 0},LimitBreak:{type:"36",name:"LimitBreak",source:"FFXIV_ACT_Plugin",messageType:"LimitBreak",fields:{type:0,timestamp:1,valueHex:2,bars:3},canAnonymize:!0,firstOptionalField:void 0},NetworkEffectResult:{type:"37",name:"NetworkEffectResult",source:"FFXIV_ACT_Plugin",messageType:"EffectResult",fields:{type:0,timestamp:1,id:2,name:3,sequenceId:4,currentHp:5,maxHp:6,currentMp:7,maxMp:8,x:11,y:12,z:13,heading:14},playerIds:{2:3},firstUnknownField:22,canAnonymize:!0,firstOptionalField:void 0},StatusEffect:{type:"38",name:"StatusEffect",source:"FFXIV_ACT_Plugin",messageType:"StatusList",fields:{type:0,timestamp:1,targetId:2,target:3,jobLevelData:4,hp:5,maxHp:6,mp:7,maxMp:8,x:11,y:12,z:13,heading:14,data0:15,data1:16,data2:17,data3:18,data4:19,data5:20},playerIds:{2:3},firstUnknownField:20,canAnonymize:!0,firstOptionalField:18},NetworkUpdateHP:{type:"39",name:"NetworkUpdateHP",source:"FFXIV_ACT_Plugin",messageType:"UpdateHp",fields:{type:0,timestamp:1,id:2,name:3,currentHp:4,maxHp:5,currentMp:6,maxMp:7,x:10,y:11,z:12,heading:13},playerIds:{2:3},canAnonymize:!0,firstOptionalField:void 0},Map:{type:"40",name:"Map",source:"FFXIV_ACT_Plugin",messageType:"ChangeMap",fields:{type:0,timestamp:1,id:2,regionName:3,placeName:4,placeNameSub:5},canAnonymize:!0,firstOptionalField:void 0,lastInclude:!0},SystemLogMessage:{type:"41",name:"SystemLogMessage",source:"FFXIV_ACT_Plugin",messageType:"SystemLogMessage",fields:{type:0,timestamp:1,instance:2,id:3,param0:4,param1:5,param2:6},canAnonymize:!0,firstOptionalField:void 0},StatusList3:{type:"42",name:"StatusList3",source:"FFXIV_ACT_Plugin",messageType:"StatusList3",fields:{type:0,timestamp:1,id:2,name:3},playerIds:{2:3},canAnonymize:!0,firstOptionalField:4,firstUnknownField:4},ParserInfo:{type:"249",name:"ParserInfo",source:"FFXIV_ACT_Plugin",messageType:"Settings",fields:{type:0,timestamp:1},globalInclude:!0,canAnonymize:!0,firstOptionalField:void 0},ProcessInfo:{type:"250",name:"ProcessInfo",source:"FFXIV_ACT_Plugin",messageType:"Process",fields:{type:0,timestamp:1},globalInclude:!0,canAnonymize:!0,firstOptionalField:void 0},Debug:{type:"251",name:"Debug",source:"FFXIV_ACT_Plugin",messageType:"Debug",fields:{type:0,timestamp:1},globalInclude:!0,canAnonymize:!1,firstOptionalField:void 0},PacketDump:{type:"252",name:"PacketDump",source:"FFXIV_ACT_Plugin",messageType:"PacketDump",fields:{type:0,timestamp:1},canAnonymize:!1,firstOptionalField:void 0},Version:{type:"253",name:"Version",source:"FFXIV_ACT_Plugin",messageType:"Version",fields:{type:0,timestamp:1},globalInclude:!0,canAnonymize:!0,firstOptionalField:void 0},Error:{type:"254",name:"Error",source:"FFXIV_ACT_Plugin",messageType:"Error",fields:{type:0,timestamp:1},canAnonymize:!1,firstOptionalField:void 0},None:{type:"[0-9]+",name:"None",source:"FFXIV_ACT_Plugin",messageType:"None",fields:{type:0,timestamp:1},isUnknown:!0,firstOptionalField:void 0},LineRegistration:{type:"256",name:"LineRegistration",source:"OverlayPlugin",messageType:"256",fields:{type:0,timestamp:1,id:2,source:3,version:4},globalInclude:!0,canAnonymize:!0,firstOptionalField:void 0},MapEffect:{type:"257",name:"MapEffect",source:"OverlayPlugin",messageType:"257",fields:{type:0,timestamp:1,instance:2,flags:3,location:4,data0:5,data1:6},canAnonymize:!0,firstOptionalField:void 0},FateDirector:{type:"258",name:"FateDirector",source:"OverlayPlugin",messageType:"258",fields:{type:0,timestamp:1,category:2,fateId:4,progress:5},canAnonymize:!0,firstOptionalField:void 0},CEDirector:{type:"259",name:"CEDirector",source:"OverlayPlugin",messageType:"259",fields:{type:0,timestamp:1,popTime:2,timeRemaining:3,ceKey:5,numPlayers:6,status:7,progress:9},canAnonymize:!0,firstOptionalField:void 0},InCombat:{type:"260",name:"InCombat",source:"OverlayPlugin",messageType:"260",fields:{type:0,timestamp:1,inACTCombat:2,inGameCombat:3},canAnonymize:!0,firstOptionalField:void 0},CombatantMemory:{type:"261",name:"CombatantMemory",source:"OverlayPlugin",messageType:"261",fields:{type:0,timestamp:1,change:2,id:3},canAnonymize:!0,firstOptionalField:5,firstUnknownField:4,playerIds:{3:null},repeatingFields:{startingIndex:4,label:"pair",names:["key","value"],sortKeys:!0,primaryKey:"key",possibleKeys:combatantMemoryKeys}},RSVData:{type:"262",name:"RSVData",source:"OverlayPlugin",messageType:"262",fields:{type:0,timestamp:1,locale:2,key:4,value:5},canAnonymize:!0,firstOptionalField:void 0}},logDefinitionsVersions={latest:latestLogDefinitions},assertLogDefinitions=logDefinitionsVersions;console.assert(assertLogDefinitions);const logDefinitions=logDefinitionsVersions.latest,separator$1=":",matchDefault$1="[^:]*",matchWithColonsDefault="(?:[^:]|: )*?",fieldsWithPotentialColons=["effect","ability"],defaultParams$1=(t,e,n)=>{const r=logDefinitionsVersions[e][t];n===void 0&&(n=Object.keys(r.fields),"repeatingFields"in r&&n.push(r.repeatingFields.label));const i={},o=r.firstOptionalField;for(const[a,l]of Object.entries(r.fields)){if(!n.includes(a))continue;const s={field:a,optional:o!==void 0&&l>=o};a==="type"&&(s.value=r.type),i[l]=s}return"repeatingFields"in r&&n.includes(r.repeatingFields.label)&&(i[r.repeatingFields.startingIndex]={field:r.repeatingFields.label,optional:o!==void 0&&r.repeatingFields.startingIndex>=o,repeating:!0,repeatingKeys:[...r.repeatingFields.names],sortKeys:r.repeatingFields.sortKeys,primaryKey:r.repeatingFields.primaryKey,possibleKeys:[...r.repeatingFields.possibleKeys]}),i},isRepeatingField$1=(t,e)=>{if(t!==!0)return!1;if(e===void 0)return!0;if(!Array.isArray(e))return!1;for(const n of e)if(typeof n!="object")return!1;return!0},parseHelper$1=(t,e,n)=>{var V,P,O,_,H,h,T,x,L;t=t??{};const r=[];for(const y in n){const C=n[y];C&&r.push(C.field)}Regexes$1.validateParams(t,e,["capture",...r]);const i=Regexes$1.trueIfUndefined(t.capture),o=Object.keys(n).sort((y,C)=>parseInt(y)-parseInt(C));let a;if(i){const y=[];for(const D in n)y.push(D);let C=y.pop();if(C===void 0)a=o[o.length-1]??"0";else{for(;(V=n[C])!=null&&V.optional&&!((((P=n[C])==null?void 0:P.field)??"")in t);)C=y.pop();a=C??"0"}}else{a="0";for(const y in n){if(typeof(n[y]??{})!="object")continue;const D=(O=n[y])==null?void 0:O.field;D!==void 0&&D in t&&(a=y)}}const l=parseInt(a),s=`(?:${logDefinitions.Ability.messageType}|${logDefinitions.NetworkAOEAbility.messageType})`,u="(?:15|16)",g=e!=="Ability"?logDefinitions[e].messageType:s,k=parseInt(logDefinitions[e].type).toString(16).toUpperCase(),A=k.length<2?`00${k}`.slice(-2):k,F=e!=="Ability"?A:u;let b="";i?b+=`(?<timestamp>\\y{Timestamp}) ${g} (?<type>${F})`:b+=`\\y{Timestamp} ${g} ${F}`;let $=1;for(const y in n){const C=n[y];if(C===void 0)continue;const D=C.field;if(D==="timestamp"||D==="type")continue;const B=parseInt(y),U=B-$-1;if(U===1?b+=`${separator$1}${matchDefault$1}`:U>1&&(b+=`(?:${separator$1}${matchDefault$1}){${U}}`),$=B,b+=separator$1,typeof C!="object")throw new Error(`${e}: invalid value: ${JSON.stringify(C)}`);const I=D!==void 0&&fieldsWithPotentialColons.includes(D)?matchWithColonsDefault:matchDefault$1,c=((_=C.value)==null?void 0:_.toString())??I,d=t[D];if(isRepeatingField$1((H=n[y])==null?void 0:H.repeating,d)){const m="(?:$|:)";let f=d;const v=(h=n[y])==null?void 0:h.sortKeys,E=(T=n[y])==null?void 0:T.primaryKey,w=(x=n[y])==null?void 0:x.possibleKeys;if(E===void 0||w===void 0)throw new UnreachableCode;v&&(w.sort((S,p)=>S.toLowerCase().localeCompare(p.toLowerCase())),f!==void 0&&(f=[...f].sort((S,p)=>{if(typeof S!="object"||S[E]===void 0)return console.warn("Invalid argument passed to trigger:",S),0;const z=S[E];if(typeof z!="string"||!(w!=null&&w.includes(z)))return console.warn("Invalid argument passed to trigger:",S),0;if(typeof p!="object"||p[E]===void 0)return console.warn("Invalid argument passed to trigger:",p),0;const J=p[E];return typeof J!="string"||!(w!=null&&w.includes(J))?(console.warn("Invalid argument passed to trigger:",p),0):z.toLowerCase().localeCompare(J.toLowerCase())})));const M=f;w.forEach(S=>{var J,Y;const p=M==null?void 0:M.find(G=>E in G&&G[E]===S);let z="";(Y=(J=n[y])==null?void 0:J.repeatingKeys)==null||Y.forEach(G=>{let j=p==null?void 0:p[G];(p===void 0||!(G in p))&&(G===E?j=S:j=matchDefault$1),typeof j!="string"&&(Array.isArray(j)?(j.length<1||j.some(K=>typeof K!="string"))&&(j=matchDefault$1):j=matchDefault$1),z+=Regexes$1.maybeCapture(G===E?!1:i,D+S,j,c)+m}),z.length>0&&(b+=`(?:${z})${p!==void 0?"":"?"}`)})}else(L=n[y])!=null&&L.repeating||(D!==void 0?b+=Regexes$1.maybeCapture(i,D,d,c):b+=d);if(B>=l)break}return b+="(?:$|:)",Regexes$1.parse(b)},buildRegex$1=(t,e)=>parseHelper$1(e,t,defaultParams$1(t,Regexes$1.logVersion));var N;let Regexes$1=(N=class{static startsUsing(e){return buildRegex$1("StartsUsing",e)}static ability(e){return buildRegex$1("Ability",e)}static abilityFull(e){return this.ability(e)}static headMarker(e){return buildRegex$1("HeadMarker",e)}static addedCombatant(e){return parseHelper$1(e,"AddedCombatant",defaultParams$1("AddedCombatant",N.logVersion,["type","timestamp","id","name"]))}static addedCombatantFull(e){return buildRegex$1("AddedCombatant",e)}static removingCombatant(e){return buildRegex$1("RemovedCombatant",e)}static gainsEffect(e){return buildRegex$1("GainsEffect",e)}static statusEffectExplicit(e){return buildRegex$1("StatusEffect",e)}static losesEffect(e){return buildRegex$1("LosesEffect",e)}static tether(e){return buildRegex$1("Tether",e)}static wasDefeated(e){return buildRegex$1("WasDefeated",e)}static networkDoT(e){return buildRegex$1("NetworkDoT",e)}static echo(e){return typeof e>"u"&&(e={}),N.validateParams(e,"echo",["type","timestamp","code","name","line","capture"]),e.code="0038",N.gameLog(e)}static dialog(e){return typeof e>"u"&&(e={}),N.validateParams(e,"dialog",["type","timestamp","code","name","line","capture"]),e.code="0044",N.gameLog(e)}static message(e){return typeof e>"u"&&(e={}),N.validateParams(e,"message",["type","timestamp","code","name","line","capture"]),e.code="0839",N.gameLog(e)}static gameLog(e){return buildRegex$1("GameLog",e)}static gameNameLog(e){return N.gameLog(e)}static statChange(e){return buildRegex$1("PlayerStats",e)}static changeZone(e){return buildRegex$1("ChangeZone",e)}static network6d(e){return buildRegex$1("ActorControl",e)}static nameToggle(e){return buildRegex$1("NameToggle",e)}static map(e){return buildRegex$1("Map",e)}static systemLogMessage(e){return buildRegex$1("SystemLogMessage",e)}static mapEffect(e){return buildRegex$1("MapEffect",e)}static combatantMemory(e){return buildRegex$1("CombatantMemory",e)}static maybeCapture(e,n,r,i){return r===void 0&&(r=i??matchDefault$1),r=N.anyOf(r),e?N.namedCapture(n,r):r}static optional(e){return`(?:${e})?`}static namedCapture(e,n){return e.includes(">")&&console.error(`"${e}" contains ">".`),e.includes("<")&&console.error(`"${e}" contains ">".`),`(?<${e}>${n})`}static anyOf(...e){const n=o=>{const[a]=o;return a!==void 0&&o.length===1?`${a instanceof RegExp?a.source:a}`:`(?:${o.map(l=>l instanceof RegExp?l.source:l).join("|")})`};let r=[];const[i]=e;return e.length===1?typeof i=="string"||i instanceof RegExp?r=[i]:Array.isArray(i)?r=i:r=[]:r=e,n(r)}static parse(e){const n={Timestamp:"^.{14}",NetTimestamp:".{33}",NetField:"(?:[^|]*\\|)",LogType:"[0-9A-Fa-f]{2}",AbilityCode:"[0-9A-Fa-f]{1,8}",ObjectId:"[0-9A-F]{8}",Name:"(?:[^\\s:|]+(?: [^\\s:|]+)?|)",Float:"-?[0-9]+(?:[.,][0-9]+)?(?:E-?[0-9]+)?"};let r="i";return e instanceof RegExp&&(r+=(e.global?"g":"")+(e.multiline?"m":""),e=e.source),e=e.replace(/\\y\{(.*?)\}/g,(i,o)=>n[o]||i),new RegExp(e,r)}static parseGlobal(e){const n=N.parse(e);let r="gi";return e instanceof RegExp&&(r+=e.multiline?"m":""),new RegExp(n.source,r)}static trueIfUndefined(e){return typeof e>"u"?!0:!!e}static validateParams(e,n,r){if(e===null||typeof e!="object")return;const i=Object.keys(e);for(const o of i)if(!r.includes(o))throw new Error(`${n}: invalid parameter '${o}'.  Valid params: ${JSON.stringify(r)}`)}},W(N,"logVersion","latest"),N);const separator="\\|",matchDefault="[^|]*",magicTranslationString="^^",magicStringRegex=/^\^\^/,keysThatRequireTranslationAsConst=["ability","name","source","target","line"],keysThatRequireTranslation=keysThatRequireTranslationAsConst,gameLogCodes={echo:"0038",dialog:"0044",message:"0839"},defaultParams=(t,e,n)=>{const r=logDefinitionsVersions[e][t];n===void 0&&(n=Object.keys(r.fields),"repeatingFields"in r&&n.push(r.repeatingFields.label));const i={},o=r.firstOptionalField;for(const[a,l]of Object.entries(r.fields)){if(!n.includes(a))continue;const s={field:a,optional:o!==void 0&&l>=o};a==="type"&&(s.value=r.type),i[l]=s}return"repeatingFields"in r&&n.includes(r.repeatingFields.label)&&(i[r.repeatingFields.startingIndex]={field:r.repeatingFields.label,optional:o!==void 0&&r.repeatingFields.startingIndex>=o,repeating:!0,repeatingKeys:[...r.repeatingFields.names],sortKeys:r.repeatingFields.sortKeys,primaryKey:r.repeatingFields.primaryKey,possibleKeys:[...r.repeatingFields.possibleKeys]}),i},isRepeatingField=(t,e)=>{if(t!==!0)return!1;if(e===void 0)return!0;if(!Array.isArray(e))return!1;for(const n of e)if(typeof n!="object")return!1;return!0},parseHelper=(t,e,n)=>{var A,F,b,$,V,P,O,_,H;t=t??{};const r=[];for(const h in n){const T=n[h];T&&r.push(T.field)}Regexes$1.validateParams(t,e,["capture",...r]);const i=Regexes$1.trueIfUndefined(t.capture),o=Object.keys(n).sort((h,T)=>parseInt(h)-parseInt(T));let a;if(i){const h=[];for(const x in n)h.push(x);let T=h.pop();if(T===void 0)a=o[o.length-1]??"0";else{for(;(A=n[T])!=null&&A.optional&&!((((F=n[T])==null?void 0:F.field)??"")in t);)T=h.pop();a=T??"0"}}else{a="0";for(const h in n){if(typeof(n[h]??{})!="object")continue;const x=(b=n[h])==null?void 0:b.field;x!==void 0&&x in t&&(a=h)}}const l=parseInt(a),s=Object.keys(t).filter(h=>keysThatRequireTranslation.includes(h));let g=NetRegexes$1.flagTranslationsNeeded&&s.length>0?magicTranslationString:"^",k=-1;for(const h in n){const T=parseInt(h),x=T-k-1;x===1?g+="\\y{NetField}":x>1&&(g+=`\\y{NetField}{${x}}`),k=T;const L=n[h];if(typeof L!="object")throw new Error(`${e}: invalid value: ${JSON.stringify(L)}`);const y=L.field,C=(($=L.value)==null?void 0:$.toString())??matchDefault,D=t[y];if(isRepeatingField((V=n[h])==null?void 0:V.repeating,D)){let B=D;const U=(P=n[h])==null?void 0:P.sortKeys,I=(O=n[h])==null?void 0:O.primaryKey,c=(_=n[h])==null?void 0:_.possibleKeys;if(I===void 0||c===void 0)throw new UnreachableCode;U&&(c.sort((m,f)=>m.toLowerCase().localeCompare(f.toLowerCase())),B!==void 0&&(B=[...B].sort((m,f)=>{if(typeof m!="object"||m[I]===void 0)return console.warn("Invalid argument passed to trigger:",m),0;const v=m[I];if(typeof v!="string"||!(c!=null&&c.includes(v)))return console.warn("Invalid argument passed to trigger:",m),0;if(typeof f!="object"||f[I]===void 0)return console.warn("Invalid argument passed to trigger:",f),0;const E=f[I];return typeof E!="string"||!(c!=null&&c.includes(E))?(console.warn("Invalid argument passed to trigger:",f),0):v.toLowerCase().localeCompare(E.toLowerCase())})));const d=B;c.forEach(m=>{var E,w;const f=d==null?void 0:d.find(M=>I in M&&M[I]===m);let v="";(w=(E=n[h])==null?void 0:E.repeatingKeys)==null||w.forEach(M=>{let S=f==null?void 0:f[M];(f===void 0||!(M in f))&&(M===I?S=m:S=matchDefault),typeof S!="string"&&(Array.isArray(S)?(S.length<1||S.some(p=>typeof p!="string"))&&(S=matchDefault):S=matchDefault),v+=Regexes$1.maybeCapture(M===I?!1:i,y+m,S,C)+separator}),v.length>0&&(g+=`(?:${v})${f!==void 0?"":"?"}`)})}else(H=n[h])!=null&&H.repeating||(y!==void 0?g+=Regexes$1.maybeCapture(i,y,D,C)+separator:g+=C+separator);if(T>=l)break}return Regexes$1.parse(g)},buildRegex=(t,e)=>parseHelper(e,t,defaultParams(t,NetRegexes$1.logVersion));var R;let NetRegexes$1=(R=class{static setFlagTranslationsNeeded(e){R.flagTranslationsNeeded=e}static doesNetRegexNeedTranslation(e){console.assert(R.flagTranslationsNeeded);const n=typeof e=="string"?e:e.source;return!!magicStringRegex.exec(n)}static startsUsing(e){return buildRegex("StartsUsing",e)}static ability(e){return parseHelper(e,"Ability",{...defaultParams("Ability",R.logVersion),0:{field:"type",value:"2[12]",optional:!1}})}static abilityFull(e){return this.ability(e)}static headMarker(e){return buildRegex("HeadMarker",e)}static addedCombatant(e){return parseHelper(e,"AddedCombatant",defaultParams("AddedCombatant",R.logVersion))}static addedCombatantFull(e){return R.addedCombatant(e)}static removingCombatant(e){return buildRegex("RemovedCombatant",e)}static gainsEffect(e){return buildRegex("GainsEffect",e)}static statusEffectExplicit(e){return buildRegex("StatusEffect",e)}static losesEffect(e){return buildRegex("LosesEffect",e)}static tether(e){return buildRegex("Tether",e)}static wasDefeated(e){return buildRegex("WasDefeated",e)}static networkDoT(e){return buildRegex("NetworkDoT",e)}static echo(e){return typeof e>"u"&&(e={}),Regexes$1.validateParams(e,"Echo",["type","timestamp","code","name","line","capture"]),R.gameLog({...e,code:gameLogCodes.echo})}static dialog(e){return typeof e>"u"&&(e={}),Regexes$1.validateParams(e,"Dialog",["type","timestamp","code","name","line","capture"]),R.gameLog({...e,code:gameLogCodes.dialog})}static message(e){return typeof e>"u"&&(e={}),Regexes$1.validateParams(e,"Message",["type","timestamp","code","name","line","capture"]),R.gameLog({...e,code:gameLogCodes.message})}static gameLog(e){return buildRegex("GameLog",e)}static gameNameLog(e){return R.gameLog(e)}static statChange(e){return buildRegex("PlayerStats",e)}static changeZone(e){return buildRegex("ChangeZone",e)}static network6d(e){return buildRegex("ActorControl",e)}static nameToggle(e){return buildRegex("NameToggle",e)}static map(e){return buildRegex("Map",e)}static systemLogMessage(e){return buildRegex("SystemLogMessage",e)}static mapEffect(e){return buildRegex("MapEffect",e)}static fateDirector(e){return buildRegex("FateDirector",e)}static ceDirector(e){return buildRegex("CEDirector",e)}static combatantMemory(e){return buildRegex("CombatantMemory",e)}},W(R,"logVersion","latest"),W(R,"flagTranslationsNeeded",!1),R);const commonNetRegex={wipe:NetRegexes$1.network6d({command:["40000010","4000000F"]}),cactbotWipeEcho:NetRegexes$1.echo({line:"cactbot wipe.*?"}),userWipeEcho:NetRegexes$1.echo({line:"end"})},numberToOutputString=function(t){const e=t.toString();return{en:e,de:e,fr:e,ja:e,cn:e,ko:e}},_Outputs={aoe:{en:"aoe",de:"AoE",fr:"AoE",ja:"全体攻撃",cn:"AoE",ko:"전체 공격"},bigAoe:{en:"big aoe!",de:"Große AoE!",fr:"Grosse AoE !",ja:"強力な全体攻撃",cn:"大AoE伤害！",ko:"강한 전체 공격!"},bleedAoe:{en:"AoE + Bleed",de:"AoE + Blutung",fr:"AoE + Saignement",ja:"全体攻撃 + 出血",cn:"AOE + 流血",ko:"전체 공격 + 도트"},tankBuster:{en:"Tank Buster",de:"Tank buster",fr:"Tank buster",ja:"タンク強攻撃",cn:"坦克死刑",ko:"탱버"},miniBuster:{en:"Mini Buster",de:"Kleiner Tankbuster",fr:"Mini Buster",ja:"タンク攻撃",cn:"小死刑",ko:"약한 탱버"},tankBusterOnPlayer:{en:"Tank Buster on ${player}",de:"Tank buster auf ${player}",fr:"Tank buster sur ${player}",ja:"${player}に強攻撃",cn:"死刑 点 ${player}",ko:'"${player}" 탱버'},tankBusterOnYou:{en:"Tank Buster on YOU",de:"Tank buster auf DIR",fr:"Tank buster sur VOUS",ja:"自分に強攻撃",cn:"死刑点名",ko:"탱버 대상자"},tankBusters:{en:"Tank Busters",de:"Tank busters",fr:"Tank busters",ja:"タンク強攻撃",cn:"坦克死刑",ko:"탱버"},tankCleave:{en:"Tank cleave",de:"Tank Cleave",fr:"Tank cleave",ja:"タンク範囲攻撃",cn:"顺劈",ko:"광역 탱버"},tankBusterCleaves:{en:"Tank Buster Cleaves",de:"Tankbuster Cleaves",fr:"Tankbuster cleaves",ja:"MT・ST同時範囲攻撃",cn:"双T扇形死刑",ko:"동시 광역 탱버"},tankBusterCleavesOnYou:{en:"Tank Cleaves on YOU",de:"Tank Cleaves auf DIR",fr:"Tank cleaves sur VOUS",cn:"坦克顺劈点名",ko:"광역 탱버 대상자"},avoidTankCleave:{en:"Avoid tank cleave",de:"Tank Cleave ausweichen",fr:"Évitez le tank cleave",ja:"タンク範囲攻撃を避ける",cn:"远离顺劈",ko:"광역 탱버 피하기"},avoidTankCleaves:{en:"Avoid Tank Cleaves",de:"Tankbuster Cleaves ausweichen",fr:"Évitez les cleaves (tankbusters)",ja:"範囲攻撃を避けて",cn:"躲避双T扇形死刑",ko:"광역 탱버 피하기"},tankCleaveOnYou:{en:"Tank cleave on YOU",de:"Tank Cleave aud DIR",fr:"Tank cleave sur VOUS",ja:"自分に範囲攻撃",cn:"顺劈点名",ko:"나에게 광역 탱버"},sharedTankbuster:{en:"Shared Tank Buster",de:"Geteilter Tankbuster",fr:"Partagez le Tank buster",ja:"タンク頭割り",cn:"分摊死刑",ko:"쉐어 탱버"},sharedTankbusterOnYou:{en:"Shared Tank Buster on YOU",de:"geteilter Tankbuster auf DIR",fr:"Tank buster à partager sur VOUS",ja:"自分にタンク頭割り",cn:"分摊死刑点名",ko:"쉐어 탱버 대상자"},sharedTankbusterOnPlayer:{en:"Shared Tank Buster on ${player}",de:"geteilter Tankbuster on ${player}",fr:"Tank buster à partager sur ${player}",ja:"${player} にタンク頭割り",cn:"分摊死刑点 ${player}",ko:'"${player}" 쉐어 탱버'},tankSwap:{en:"Tank Swap!",de:"Tankwechsel!",fr:"Tank swap !",ja:"タンクスイッチ!",cn:"换T！",ko:"탱 교대"},spread:{en:"Spread",de:"Verteilen",fr:"Dispersez-vous",ja:"散開",cn:"分散",ko:"산개"},stackMarker:{en:"Stack",de:"Sammeln",fr:"Packez-vous",ja:"頭割り",cn:"分摊",ko:"쉐어뎀"},getTogether:{en:"Stack",de:"Sammeln",fr:"Packez-vous",ja:"集合",cn:"集合",ko:"모이기"},healerGroups:{en:"Healer Groups",de:"Heiler-Gruppen",fr:"Groupes sur les heals",ja:"ヒラに頭割り",cn:"治疗分摊组",ko:"힐러 그룹 쉐어"},stackOnYou:{en:"Stack on YOU",de:"Auf DIR sammeln",fr:"Package sur VOUS",ja:"自分に頭割り",cn:"集合点名",ko:"쉐어징 대상자"},stackOnPlayer:{en:"Stack on ${player}",de:"Auf ${player} sammeln",fr:"Packez-vous sur ${player}",ja:"${player}に頭割り",cn:"靠近 ${player}集合",ko:'"${player}" 쉐어징'},stackMiddle:{en:"Stack in middle",de:"In der Mitte sammeln",fr:"Packez-vous au milieu",ja:"中央で頭割り",cn:"中间集合",ko:"중앙에서 모이기"},doritoStack:{en:"Dorito Stack",de:"Mit Marker sammeln",fr:"Packez les marques",ja:"マーカー同士で頭割り",cn:"点名集合",ko:"징끼리 모이기"},spreadThenStack:{en:"Spread => Stack",de:"Verteilen => Sammeln",fr:"Dispersion => Package",ja:"散開 => 頭割り",cn:"分散 => 集合",ko:"산개 => 집합"},stackThenSpread:{en:"Stack => Spread",de:"Sammeln => Verteilen",fr:"Package => Dispersion",ja:"頭割り => 散開",cn:"集合 => 分散",ko:"집합 => 산개"},drawIn:{en:"Draw In",de:"Einzug",fr:"Attraction",ja:"吸込み",cn:"吸引",ko:"끌어당김"},knockback:{en:"Knockback",de:"Rückstoß",fr:"Poussée",ja:"ノックバック",cn:"击退",ko:"넉백"},knockbackOnYou:{en:"Knockback on YOU",de:"Rückstoß auf DIR",fr:"Poussée sur VOUS",ja:"自分にノックバック",cn:"击退点名",ko:"넉백징 대상자"},knockbackOnPlayer:{en:"Knockback on ${player}",de:"Rückstoß auf ${player}",fr:"Poussée sur ${player}",ja:"${player}にノックバック",cn:"击退点名${player}",ko:'"${player}" 넉백징'},lookTowardsBoss:{en:"Look Towards Boss",de:"Anschauen Boss",fr:"Regardez le boss",ja:"ボスを見る",cn:"面向Boss",ko:"쳐다보기"},lookAway:{en:"Look Away",de:"Wegschauen",fr:"Regardez ailleurs",ja:"ボスを見ない",cn:"背对Boss",ko:"뒤돌기"},lookAwayFromPlayer:{en:"Look Away from ${player}",de:"Schau weg von ${player}",fr:"Ne regardez pas ${player}",ja:"${player}を見ない",cn:"背对${player}",ko:"${player}에게서 뒤돌기"},lookAwayFromTarget:{en:"Look Away from ${name}",de:"Schau weg von ${name}",fr:"Ne regardez pas ${name}",ja:"${name}を見ない",cn:"背对${name}",ko:"${name}에게서 뒤돌기"},getBehind:{en:"Get Behind",de:"Hinter ihn",fr:"Passez derrière",ja:"背面へ",cn:"去背后",ko:"보스 뒤로"},goFrontOrSides:{en:"Go Front / Sides",de:"Gehe nach Vorne/ zu den Seiten",fr:"Allez Devant / Côtés",ja:"前／横へ",cn:"去前侧方",ko:"보스 후방 피하기"},goFront:{en:"Go Front",de:"Geh nach vorn",fr:"Allez Devant",ja:"前へ",cn:"去前面",ko:"앞으로"},getUnder:{en:"Get Under",de:"Unter ihn",fr:"En dessous",ja:"ボスに貼り付く",cn:"去脚下",ko:"보스 아래로"},in:{en:"In",de:"Rein",fr:"Intérieur",ja:"中へ",cn:"靠近",ko:"안으로"},out:{en:"Out",de:"Raus",fr:"Extérieur",ja:"外へ",cn:"远离",ko:"밖으로"},outOfMelee:{en:"Out of melee",de:"Raus aus Nahkampf",fr:"Sortez de la mêlée",ja:"近接レンジ離れ",cn:"离开近战距离",ko:"근접범위 밖으로"},inThenOut:{en:"In => out",de:"Rein, dann raus",fr:"Intérieur, puis extérieur",ja:"中 => 外",cn:"先靠近，再远离",ko:"안으로 => 밖으로"},outThenIn:{en:"Out => in",de:"Raus, dann rein",fr:"Extérieur, puis intérieur",ja:"外 => 中",cn:"先远离，再靠近",ko:"밖으로 => 안으로"},backThenFront:{en:"Back => Front",de:"Nach Hinten, danach nach Vorne",fr:"Derrière puis devant",ja:"後ろ => 前",cn:"后 => 前",ko:"뒤로 => 앞으로"},frontThenBack:{en:"Front => Back",de:"Nach Vorne, danach nach Hinten",fr:"Devant puis derrière",ja:"前 => 後ろ",cn:"前 => 后",ko:"앞으로 => 뒤로"},goIntoMiddle:{en:"Get Middle",de:"in die Mitte gehen",fr:"Allez au milieu",ja:"中へ",cn:"去中间",ko:"중앙으로"},front:{en:"Front",de:"Vorne",fr:"Devant",ja:"前",cn:"前",ko:"앞"},back:{en:"Back",de:"Hinten",fr:"Derrière",ja:"後ろ",cn:"后",ko:"뒤"},right:{en:"Right",de:"Rechts",fr:"À droite",ja:"右へ",cn:"右",ko:"오른쪽"},left:{en:"Left",de:"Links",fr:"À gauche",ja:"左へ",cn:"左",ko:"왼쪽"},getLeftAndWest:{en:"<= Get Left/West",de:"<= Nach Links/Westen",fr:"<= Allez à Gauche/Ouest",ja:"<= 左/西へ",cn:"<= 去左/西边",ko:"<= 왼쪽으로"},getRightAndEast:{en:"Get Right/East =>",de:"Nach Rechts/Osten =>",fr:"Allez à Droite/Est =>",ja:"右/東へ =>",cn:"去右/东边 =>",ko:"오른쪽으로 =>"},leftThenRight:{en:"Left => Right",de:"Links => Rechts",fr:"À gauche => À droite",ja:"左 => 右",cn:"左 => 右",ko:"왼쪽 => 오른쪽"},rightThenLeft:{en:"Right => Left",de:"Rechts => Links",fr:"À droite => À gauche",ja:"右 => 左",cn:"右 => 左",ko:"오른쪽 => 왼쪽"},goFrontBack:{en:"Go Front/Back",de:"Geh nach Vorne/Hinten",fr:"Allez Devant/Derrière",ja:"縦へ",cn:"去前后",ko:"앞/뒤로"},sides:{en:"Sides",de:"Seiten",fr:"Côtés",ja:"横へ",cn:"去侧面",ko:"양옆으로"},middle:{en:"Middle",de:"Mitte",fr:"Milieu",ja:"中へ",cn:"中间",ko:"중앙"},clockwise:{en:"Clockwise",de:"Im Uhrzeigersinn",fr:"Sens horaire",ja:"時針回り",cn:"顺时针",ko:"시계방향"},counterclockwise:{en:"Counter-clock",de:"Gegen den Uhrzeigersinn",fr:"Anti-horaire",ja:"逆時針回り",cn:"逆时针",ko:"반시계방향"},killAdds:{en:"Kill adds",de:"Adds besiegen",fr:"Tuez les adds",ja:"雑魚から倒して",cn:"击杀小怪",ko:"쫄 잡기"},killExtraAdd:{en:"Kill Extra Add",de:"Add besiegen",fr:"Tuez l'add",ja:"雑魚から倒して",cn:"击杀小怪",ko:"쫄 잡기"},awayFromFront:{en:"Away From Front",de:"Weg von Vorne",fr:"Éloignez-vous du devant",ja:"前方から離れる",cn:"远离正面",ko:"보스 전방 피하기"},sleepTarget:{en:"Sleep ${name}",de:"Schlaf auf ${name}",fr:"Sommeil sur ${name}",ja:"${name} にスリプル",cn:"催眠 ${name}",ko:"${name} 슬리플"},stunTarget:{en:"Stun ${name}",de:"Betäubung auf ${name}",fr:"Étourdissez ${name}",ja:"${name} にスタン",cn:"眩晕 ${name}",ko:"${name}기절"},interruptTarget:{en:"interrupt ${name}",de:"unterbreche ${name}",fr:"Interrompez ${name}",ja:"${name} に沈黙",cn:"打断${name}",ko:"${name}기술 시전 끊기"},preyOnYou:{en:"Prey on YOU",de:"Marker auf DIR",fr:"Marquage sur VOUS",ja:"自分に捕食",cn:"掠食点名",ko:"홍옥징 대상자"},preyOnPlayer:{en:"Prey on ${player}",de:"Marker auf ${player}",fr:"Marquage sur ${player}",ja:"${player}に捕食",cn:"掠食点名${player}",ko:'"${player}" 홍옥징'},awayFromGroup:{en:"Away from Group",de:"Weg von der Gruppe",fr:"Éloignez-vous du groupe",ja:"外へ",cn:"远离人群",ko:"다른 사람들과 떨어지기"},awayFromPlayer:{en:"Away from ${player}",de:"Weg von ${player}",fr:"Éloignez-vous de ${player}",ja:"${player}から離れる",cn:"远离${player}",ko:'"${player}"에게서 멀어지기'},meteorOnYou:{en:"Meteor on YOU",de:"Meteor auf DIR",fr:"Météore sur VOUS",ja:"自分にメテオ",cn:"陨石点名",ko:"나에게 메테오징"},stopMoving:{en:"Stop Moving!",de:"Bewegung stoppen!",fr:"Ne bougez pas !",ja:"移動禁止！",cn:"停止移动！",ko:"이동 멈추기!"},stopEverything:{en:"Stop Everything!",de:"Stoppe Alles!",fr:"Arrêtez tout !",ja:"行動禁止！",cn:"停止行动！",ko:"행동 멈추기!"},moveAway:{en:"Move!",de:"Bewegen!",fr:"Bougez !",ja:"避けて！",cn:"快躲开！",ko:"이동하기!"},moveAround:{en:"Move!",de:"Bewegen!",fr:"Bougez !",ja:"動く！",cn:"快动！",ko:"움직이기!"},breakChains:{en:"Break chains",de:"Kette zerbrechen",fr:"Brisez les chaines",ja:"線を切る",cn:"切断连线",ko:"선 끊기"},moveChainsTogether:{en:"Move chains together",de:"Ketten zusammen bewegen",fr:"Bougez les chaines ensemble",ja:"線同士で一緒に移動",cn:"连线一起移动",ko:"선 붙어서 같이 움직이기"},earthshakerOnYou:{en:"Earth Shaker on YOU",de:"Erdstoß auf DIR",fr:"Marque de terre sur VOUS",ja:"自分にアースシェイカー",cn:"大地摇动点名",ko:"어스징 대상자"},wakeUp:{en:"WAKE UP",de:"AUFWACHEN",fr:"RÉVEILLE-TOI",ja:"目を覚まして！",cn:"醒醒！动一动！！",ko:"일어나세요!"},closeTethersWithPlayer:{en:"Close Tethers (${player})",de:"Nahe Verbindungen (${player})",fr:"Liens proches avec (${player})",ja:"(${player})に近づく",cn:"靠近连线 (${player})",ko:"상대와 가까이 붙기 (${player})"},farTethersWithPlayer:{en:"Far Tethers (${player})",de:"Entfernte Verbindungen (${player})",fr:"Liens éloignés avec (${player})",ja:" (${player})から離れる",cn:"远离连线 (${player})",ko:"상대와 떨어지기 (${player})"},getTowers:{en:"Get Towers",de:"Türme nehmen",fr:"Allez dans les tours",ja:"塔を踏む",cn:"踩塔",ko:"기둥 들어가기"},unknown:{en:"???",de:"???",fr:"???",ja:"???",cn:"???",ko:"???"},north:{en:"North",de:"Norden",fr:"Nord",ja:"北",cn:"上(北)",ko:"북쪽"},south:{en:"South",de:"Süden",fr:"Sud",ja:"南",cn:"下(南)",ko:"남쪽"},east:{en:"East",de:"Osten",fr:"Est",ja:"東",cn:"右(东)",ko:"동쪽"},west:{en:"West",de:"Westen",fr:"Ouest",ja:"西",cn:"左(西)",ko:"서쪽"},northwest:{en:"Northwest",de:"Nordwesten",fr:"Nord-Ouest",ja:"北西",cn:"左上(西北)",ko:"북서쪽"},northeast:{en:"Northeast",de:"Nordosten",fr:"Nord-Est",ja:"北東",cn:"右上(东北)",ko:"북동쪽"},southwest:{en:"Southwest",de:"Südwesten",fr:"Sud-Ouest",ja:"南西",cn:"左下(西南)",ko:"남서쪽"},southeast:{en:"Southeast",de:"Südosten",fr:"Sud-Est",ja:"南東",cn:"右下(东南)",ko:"남동쪽"},dirN:{en:"N",de:"N",fr:"N",ja:"北",cn:"上(北)",ko:"북"},dirS:{en:"S",de:"S",fr:"S",ja:"南",cn:"下(南)",ko:"남"},dirE:{en:"E",de:"O",fr:"E",ja:"東",cn:"右(东)",ko:"동"},dirW:{en:"W",de:"W",fr:"O",ja:"西",cn:"左(西)",ko:"서"},dirNW:{en:"NW",de:"NW",fr:"NO",ja:"北西",cn:"左上(西北)",ko:"북서"},dirNE:{en:"NE",de:"NO",fr:"NE",ja:"北東",cn:"右上(东北)",ko:"북동"},dirSW:{en:"SW",de:"SW",fr:"SO",ja:"南西",cn:"左下(西南)",ko:"남서"},dirSE:{en:"SE",de:"SO",fr:"SE",ja:"南東",cn:"右下(东南)",ko:"남동"},dirNNE:{en:"NNE",de:"NNO",fr:"NNE",ja:"北北東(1時)",cn:"上偏右(北偏东)",ko:"1시"},dirENE:{en:"ENE",de:"ONO",fr:"ENE",ja:"東北東(2時)",cn:"右偏上(东偏北)",ko:"2시"},dirESE:{en:"ESE",de:"OSO",fr:"ESE",ja:"東南東(4時)",cn:"右偏下(东偏南)",ko:"4시"},dirSSE:{en:"SSE",de:"SSO",fr:"SSE",ja:"南南東(5時)",cn:"下偏右(南偏东)",ko:"5시"},dirSSW:{en:"SSW",de:"SSW",fr:"SSO",ja:"南南西(7時)",cn:"下偏左(南偏西)",ko:"7시"},dirWSW:{en:"WSW",de:"WSW",fr:"OSO",ja:"西南西(8時)",cn:"左偏下(西偏南)",ko:"8시"},dirWNW:{en:"WNW",de:"WNW",fr:"ONO",ja:"西北西(10時)",cn:"左偏上(西偏北)",ko:"10시"},dirNNW:{en:"NNW",de:"NNW",fr:"NNO",ja:"北北西(11時)",cn:"上偏左(北偏西)",ko:"11시"},tank:{en:"Tank",de:"Tank",fr:"Tank",ja:"タンク",cn:"坦克",ko:"탱"},healer:{en:"Healer",de:"Heiler",fr:"Healer",ja:"ヒーラ",cn:"治疗",ko:"힐"},dps:{en:"DPS",de:"DPS",fr:"DPS",ja:"DPS",cn:"DPS",ko:"딜러"},num0:numberToOutputString(0),num1:numberToOutputString(1),num2:numberToOutputString(2),num3:numberToOutputString(3),num4:numberToOutputString(4),num5:numberToOutputString(5),num6:numberToOutputString(6),num7:numberToOutputString(7),num8:numberToOutputString(8),num9:numberToOutputString(9)},severityMap={info:"infoText",alert:"alertText",alarm:"alarmText"},getText=t=>{if(!(t in severityMap))throw new Error(`Invalid severity: ${t}.`);return severityMap[t]},defaultInfoText=t=>t?getText(t):"infoText",defaultAlertText=t=>t?getText(t):"alertText",defaultAlarmText=t=>t?getText(t):"alarmText",getTarget=t=>{if(t.target!==t.source&&t.target!=="")return t.target},getSource=t=>t==null?void 0:t.source,combineFuncs=function(t,e,n,r){const i={};return t!==n?(i[t]=e,i[n]=r):i[t]=(o,a,l)=>e(o,a,l)??r(o,a,l),i},isPlayerId=t=>t!==void 0&&!t.startsWith("4"),staticResponse=(t,e)=>(n,r,i)=>(i.responseOutputStrings={text:e},{[t]:(o,a,l)=>{var s;return(s=l.text)==null?void 0:s.call(l)}}),Responses$1={tankBuster:(t,e)=>{const n={noTarget:_Outputs.tankBuster,busterOnYou:_Outputs.tankBusterOnYou,busterOnTarget:_Outputs.tankBusterOnPlayer},r=(a,l,s)=>{var g,k;const u=getTarget(l);if(u===void 0)return a.role!=="tank"&&a.role!=="healer"||(g=s.noTarget)==null?void 0:g.call(s);if(u===a.me)return(k=s.busterOnYou)==null?void 0:k.call(s)},i=(a,l,s)=>{var g,k;const u=getTarget(l);if(u===void 0)return a.role==="tank"||a.role==="healer"||(g=s.noTarget)==null?void 0:g.call(s);if(u!==a.me)return(k=s.busterOnTarget)==null?void 0:k.call(s,{player:a.ShortName(u)})},o=combineFuncs(defaultAlertText(t),r,defaultInfoText(e),i);return(a,l,s)=>(s.responseOutputStrings=n,o)},tankBusterSwap:(t,e)=>{const n={tankSwap:_Outputs.tankSwap,busterOnYou:_Outputs.tankBusterOnYou,busterOnTarget:_Outputs.tankBusterOnPlayer},r=(a,l,s)=>{var g;const u=getTarget(l);if(a.role==="tank"&&u!==a.me)return(g=s.tankSwap)==null?void 0:g.call(s)},i=(a,l,s)=>{var g,k;const u=getTarget(l);if(!(a.role==="tank"&&u!==a.me))return u===a.me?(g=s.busterOnYou)==null?void 0:g.call(s):(k=s.busterOnTarget)==null?void 0:k.call(s,{player:a.ShortName(u)})},o=combineFuncs(defaultAlarmText(e),r,defaultAlertText(t),i);return(a,l,s)=>(s.responseOutputStrings=n,o)},tankCleave:t=>(e,n,r)=>(r.responseOutputStrings={cleaveOnYou:_Outputs.tankCleaveOnYou,cleaveNoTarget:_Outputs.tankCleave,avoidCleave:_Outputs.avoidTankCleave},{[defaultInfoText(t)]:(i,o,a)=>{var s,u,g;return getTarget(o)===i.me?(s=a.cleaveOnYou)==null?void 0:s.call(a):i.role==="tank"||i.job==="BLU"?(u=a.cleaveNoTarget)==null?void 0:u.call(a):(g=a.avoidCleave)==null?void 0:g.call(a)}}),sharedTankBuster:(t,e)=>{const n={sharedTankbusterOnYou:_Outputs.sharedTankbusterOnYou,sharedTankbusterOnTarget:_Outputs.sharedTankbusterOnPlayer,sharedTankbuster:_Outputs.sharedTankbuster,avoidCleave:_Outputs.avoidTankCleave},r=(a,l,s)=>{var g,k,A;const u=getTarget(l);if(u===void 0)return a.role!=="tank"&&a.role!=="healer"||(g=s.sharedTankbuster)==null?void 0:g.call(s);if(u===a.me)return(k=s.sharedTankbusterOnYou)==null?void 0:k.call(s);if(a.role==="tank"||a.role==="healer")return(A=s.sharedTankbusterOnTarget)==null?void 0:A.call(s,{player:a.ShortName(u)})},i=(a,l,s)=>{var g,k;const u=getTarget(l);if(u===void 0)return a.role==="tank"||a.role==="healer"||(g=s.avoidCleave)==null?void 0:g.call(s);if(!(u===a.me||a.role==="tank"||a.role==="healer"))return(k=s.avoidCleave)==null?void 0:k.call(s)},o=combineFuncs(defaultAlertText(t),r,defaultInfoText(e),i);return(a,l,s)=>(s.responseOutputStrings=n,o)},miniBuster:t=>staticResponse(defaultInfoText(t),_Outputs.miniBuster),aoe:t=>staticResponse(defaultInfoText(t),_Outputs.aoe),bigAoe:t=>staticResponse(defaultInfoText(t),_Outputs.bigAoe),bleedAoe:t=>staticResponse(defaultInfoText(t),_Outputs.bleedAoe),spread:t=>staticResponse(defaultInfoText(t),_Outputs.spread),stackMarker:t=>staticResponse(defaultAlertText(t),_Outputs.stackMarker),getTogether:t=>staticResponse(defaultAlertText(t),_Outputs.getTogether),stackMarkerOn:t=>(e,n,r)=>(r.responseOutputStrings={stackOnYou:_Outputs.stackOnYou,stackOnTarget:_Outputs.stackOnPlayer},{[defaultAlertText(t)]:(i,o,a)=>{var s,u;const l=getTarget(o);return l===i.me?(s=a.stackOnYou)==null?void 0:s.call(a):(u=a.stackOnTarget)==null?void 0:u.call(a,{player:i.ShortName(l)})}}),stackMiddle:t=>staticResponse(defaultInfoText(t),_Outputs.stackMiddle),doritoStack:t=>staticResponse(defaultAlertText(t),_Outputs.doritoStack),spreadThenStack:t=>staticResponse(defaultAlertText(t),_Outputs.spreadThenStack),stackThenSpread:t=>staticResponse(defaultAlertText(t),_Outputs.stackThenSpread),knockback:t=>staticResponse(defaultAlertText(t),_Outputs.knockback),knockbackOn:(t,e)=>{const n={knockbackOnYou:_Outputs.knockbackOnYou,knockbackOnTarget:_Outputs.knockbackOnPlayer},r=(a,l,s)=>{var g;if(getTarget(l)===a.me)return(g=s.knockbackOnYou)==null?void 0:g.call(s)},i=(a,l,s)=>{var g;const u=getTarget(l);if(u!==a.me)return(g=s.knockbackOnTarget)==null?void 0:g.call(s,{player:a.ShortName(u)})},o=combineFuncs(defaultInfoText(t),r,defaultInfoText(e),i);return(a,l,s)=>(s.responseOutputStrings=n,o)},drawIn:t=>staticResponse(defaultInfoText(t),_Outputs.drawIn),lookTowards:t=>staticResponse(defaultInfoText(t),_Outputs.lookTowardsBoss),lookAway:t=>staticResponse(defaultInfoText(t),_Outputs.lookAway),lookAwayFromTarget:t=>(e,n,r)=>(r.responseOutputStrings={lookAwayFrom:_Outputs.lookAwayFromTarget},{[defaultAlertText(t)]:(i,o,a)=>{var u;const l=getTarget(o);if(l===i.me)return;const s=isPlayerId(o==null?void 0:o.targetId)?i.ShortName(l):l;return(u=a.lookAwayFrom)==null?void 0:u.call(a,{name:s})}}),lookAwayFromSource:t=>(e,n,r)=>(r.responseOutputStrings={lookAwayFrom:_Outputs.lookAwayFromTarget},{[defaultAlertText(t)]:(i,o,a)=>{var u;const l=getSource(o);if(l===i.me)return;const s=isPlayerId(o==null?void 0:o.sourceId)?i.ShortName(l):l;return(u=a.lookAwayFrom)==null?void 0:u.call(a,{name:s})}}),getBehind:t=>staticResponse(defaultAlertText(t),_Outputs.getBehind),goFrontOrSides:t=>staticResponse(defaultAlertText(t),_Outputs.goFrontOrSides),getUnder:t=>staticResponse(defaultInfoText(t),_Outputs.getUnder),getIn:t=>staticResponse(defaultAlertText(t),_Outputs.in),getOut:t=>staticResponse(defaultAlertText(t),_Outputs.out),outOfMelee:t=>staticResponse(defaultInfoText(t),_Outputs.outOfMelee),getInThenOut:t=>staticResponse(defaultInfoText(t),_Outputs.inThenOut),getOutThenIn:t=>staticResponse(defaultInfoText(t),_Outputs.outThenIn),getBackThenFront:t=>staticResponse(defaultInfoText(t),_Outputs.backThenFront),getFrontThenBack:t=>staticResponse(defaultInfoText(t),_Outputs.frontThenBack),goFront:t=>staticResponse(defaultAlertText(t),_Outputs.goFront),goMiddle:t=>staticResponse(defaultAlertText(t),_Outputs.goIntoMiddle),goRight:t=>staticResponse(defaultAlertText(t),_Outputs.right),goLeft:t=>staticResponse(defaultAlertText(t),_Outputs.left),goWest:t=>staticResponse(defaultAlertText(t),_Outputs.getLeftAndWest),goEast:t=>staticResponse(defaultAlertText(t),_Outputs.getRightAndEast),goLeftThenRight:t=>staticResponse(defaultAlertText(t),_Outputs.leftThenRight),goRightThenLeft:t=>staticResponse(defaultAlertText(t),_Outputs.rightThenLeft),goFrontBack:t=>staticResponse(defaultAlertText(t),_Outputs.goFrontBack),goSides:t=>staticResponse(defaultAlertText(t),_Outputs.sides),killAdds:t=>staticResponse(defaultInfoText(t),_Outputs.killAdds),killExtraAdd:t=>staticResponse(defaultInfoText(t),_Outputs.killExtraAdd),awayFromFront:t=>staticResponse(defaultAlertText(t),_Outputs.awayFromFront),sleep:t=>(e,n,r)=>(r.responseOutputStrings={sleep:_Outputs.sleepTarget},{[defaultAlertText(t)]:(i,o,a)=>{var s;const l=getSource(o);return(s=a.sleep)==null?void 0:s.call(a,{name:l})}}),stunOrInterruptIfPossible:t=>(e,n,r)=>(r.responseOutputStrings={stun:_Outputs.stunTarget,interrupt:_Outputs.interruptTarget},{[defaultAlertText(t)]:(i,o,a)=>{var s,u;const l=getSource(o);if(i.CanSilence())return(s=a.interrupt)==null?void 0:s.call(a,{name:l});if(i.CanStun())return(u=a.stun)==null?void 0:u.call(a,{name:l})}}),stun:t=>(e,n,r)=>(r.responseOutputStrings={stun:_Outputs.stunTarget},{[defaultAlertText(t)]:(i,o,a)=>{var s;const l=getSource(o);return(s=a.stun)==null?void 0:s.call(a,{name:l})}}),stunIfPossible:t=>(e,n,r)=>(r.responseOutputStrings={stun:_Outputs.stunTarget},{[defaultAlertText(t)]:(i,o,a)=>{var s;const l=getSource(o);if(i.CanStun())return(s=a.stun)==null?void 0:s.call(a,{name:l})}}),interrupt:t=>(e,n,r)=>(r.responseOutputStrings={interrupt:_Outputs.interruptTarget},{[defaultAlertText(t)]:(i,o,a)=>{var s;const l=getSource(o);return(s=a.interrupt)==null?void 0:s.call(a,{name:l})}}),interruptIfPossible:t=>(e,n,r)=>(r.responseOutputStrings={interrupt:_Outputs.interruptTarget},{[defaultAlertText(t)]:(i,o,a)=>{var s;const l=getSource(o);if(i.CanSilence())return(s=a.interrupt)==null?void 0:s.call(a,{name:l})}}),preyOn:(t,e)=>{const n={preyOnYou:_Outputs.preyOnYou,preyOnTarget:_Outputs.preyOnPlayer},r=(a,l,s)=>{var g;const u=getTarget(l);if(a.me===u)return(g=s.preyOnYou)==null?void 0:g.call(s)},i=(a,l,s)=>{var g;const u=getTarget(l);if(u!==a.me)return(g=s.preyOnTarget)==null?void 0:g.call(s,{player:a.ShortName(u)})},o=combineFuncs(defaultAlertText(t),r,defaultInfoText(e),i);return(a,l,s)=>(s.responseOutputStrings=n,o)},awayFrom:t=>(e,n,r)=>(r.responseOutputStrings={awayFromGroup:_Outputs.awayFromGroup,awayFromTarget:_Outputs.awayFromPlayer},{[defaultAlertText(t)]:(i,o,a)=>{var s,u;const l=getTarget(o);return i.me===l?(s=a.awayFromGroup)==null?void 0:s.call(a):(u=a.awayFromTarget)==null?void 0:u.call(a,{player:i.ShortName(l)})}}),meteorOnYou:t=>staticResponse(defaultAlarmText(t),_Outputs.meteorOnYou),stopMoving:t=>staticResponse(defaultAlarmText(t),_Outputs.stopMoving),stopEverything:t=>staticResponse(defaultAlarmText(t),_Outputs.stopEverything),moveAway:t=>staticResponse(defaultInfoText(t),_Outputs.moveAway),moveAround:t=>staticResponse(defaultInfoText(t),_Outputs.moveAround),breakChains:t=>staticResponse(defaultInfoText(t),_Outputs.breakChains),moveChainsTogether:t=>staticResponse(defaultInfoText(t),_Outputs.moveChainsTogether),earthshaker:t=>(e,n,r)=>(r.responseOutputStrings={earthshaker:_Outputs.earthshakerOnYou},{[defaultAlertText(t)]:(i,o,a)=>{var s;if(getTarget(o)===i.me)return(s=a.earthshaker)==null?void 0:s.call(a)}}),wakeUp:t=>staticResponse(defaultAlarmText(t),_Outputs.wakeUp),getTowers:t=>staticResponse(defaultInfoText(t),_Outputs.getTowers)},responseMapTypeAssertion=Responses$1;console.assert(responseMapTypeAssertion);const nameToJobEnum={NONE:0,GLA:1,PGL:2,MRD:3,LNC:4,ARC:5,CNJ:6,THM:7,CRP:8,BSM:9,ARM:10,GSM:11,LTW:12,WVR:13,ALC:14,CUL:15,MIN:16,BTN:17,FSH:18,PLD:19,MNK:20,WAR:21,DRG:22,BRD:23,WHM:24,BLM:25,ACN:26,SMN:27,SCH:28,ROG:29,NIN:30,MCH:31,DRK:32,AST:33,SAM:34,RDM:35,BLU:36,GNB:37,DNC:38,RPR:39,SGE:40},allJobs=Object.keys(nameToJobEnum),allRoles=["tank","healer","dps","crafter","gatherer","none"],tankJobs=["GLA","PLD","MRD","WAR","DRK","GNB"],healerJobs=["CNJ","WHM","SCH","AST","SGE"],meleeDpsJobs=["PGL","MNK","LNC","DRG","ROG","NIN","SAM","RPR"],rangedDpsJobs=["ARC","BRD","DNC","MCH"],casterDpsJobs=["BLU","RDM","BLM","SMN","ACN","THM"],dpsJobs=[...meleeDpsJobs,...rangedDpsJobs,...casterDpsJobs],craftingJobs=["CRP","BSM","ARM","GSM","LTW","WVR","ALC","CUL"],gatheringJobs=["MIN","BTN","FSH"],stunJobs=["BLU",...tankJobs,...meleeDpsJobs],silenceJobs=["BLU",...tankJobs,...rangedDpsJobs],sleepJobs=[...casterDpsJobs,...healerJobs],feintJobs=[...meleeDpsJobs],addleJobs=[...casterDpsJobs],cleanseJobs=["BLU","BRD",...healerJobs],jobToRoleMap=(()=>{const t=(n,r,i)=>{r.forEach(o=>n.set(o,i))},e=new Map([["NONE","none"]]);return t(e,tankJobs,"tank"),t(e,healerJobs,"healer"),t(e,dpsJobs,"dps"),t(e,craftingJobs,"crafter"),t(e,gatheringJobs,"gatherer"),e})(),watchCombatantMap=[],shouldCancelWatch=(t,e)=>!!(e.cancel||t.maxDuration!==void 0&&Date.now()-e.start>t.maxDuration),defaultWatchCombatant=(t,e)=>new Promise((n,r)=>{const i=t.delay??1e3,o={call:"getCombatants"};t.ids&&(o.ids=t.ids),t.names&&(o.names=t.names),t.props&&(o.props=t.props);const a={cancel:!1,start:Date.now()};watchCombatantMap.push(a);const l=()=>{if(shouldCancelWatch(t,a)){r(new Error("cancelled"));return}callOverlayHandler(o).then(s=>{e(s)?n():window.setTimeout(l,i)})};window.setTimeout(l,i)});let watchCombatantOverride,clearCombatantsOverride;const defaultClearCombatants=()=>{for(;watchCombatantMap.length>0;){const t=watchCombatantMap.pop();t&&(t.cancel=!0)}},watchCombatant=(t,e)=>watchCombatantOverride?watchCombatantOverride(t,e):defaultWatchCombatant(t,e),output8Dir=["dirN","dirNE","dirE","dirSE","dirS","dirSW","dirW","dirNW"],output16Dir=["dirN","dirNNE","dirNE","dirENE","dirE","dirESE","dirSE","dirSSE","dirS","dirSSW","dirSW","dirWSW","dirW","dirWNW","dirNW","dirNNW"],outputCardinalDir=["dirN","dirE","dirS","dirW"],outputIntercardDir=["dirNE","dirSE","dirSW","dirNW"],outputStrings16Dir={dirN:_Outputs.dirN,dirNNE:_Outputs.dirNNE,dirNE:_Outputs.dirNE,dirENE:_Outputs.dirENE,dirE:_Outputs.dirE,dirESE:_Outputs.dirESE,dirSE:_Outputs.dirSE,dirSSE:_Outputs.dirSSE,dirS:_Outputs.dirS,dirSSW:_Outputs.dirSSW,dirSW:_Outputs.dirSW,dirWSW:_Outputs.dirWSW,dirW:_Outputs.dirW,dirWNW:_Outputs.dirWNW,dirNW:_Outputs.dirNW,dirNNW:_Outputs.dirNNW,unknown:_Outputs.unknown},outputStrings8Dir={dirN:_Outputs.dirN,dirNE:_Outputs.dirNE,dirE:_Outputs.dirE,dirSE:_Outputs.dirSE,dirS:_Outputs.dirS,dirSW:_Outputs.dirSW,dirW:_Outputs.dirW,dirNW:_Outputs.dirNW,unknown:_Outputs.unknown},outputStringsCardinalDir={dirN:_Outputs.dirN,dirE:_Outputs.dirE,dirS:_Outputs.dirS,dirW:_Outputs.dirW,unknown:_Outputs.unknown},outputStringsIntercardDir={dirNE:_Outputs.dirNE,dirSE:_Outputs.dirSE,dirSW:_Outputs.dirSW,dirNW:_Outputs.dirNW,unknown:_Outputs.unknown},xyTo8DirNum=(t,e,n,r)=>(t=t-n,e=e-r,Math.round(4-4*Math.atan2(t,e)/Math.PI)%8),xyTo4DirNum=(t,e,n,r)=>(t=t-n,e=e-r,Math.round(2-2*Math.atan2(t,e)/Math.PI)%4),hdgTo8DirNum=t=>(Math.round(4-4*t/Math.PI)%8+8)%8,hdgTo4DirNum=t=>(Math.round(2-t*2/Math.PI)%4+4)%4,outputFrom8DirNum=t=>output8Dir[t]??"unknown",Directions$1={output8Dir,output16Dir,outputCardinalDir,outputIntercardDir,outputStrings16Dir,outputStrings8Dir,outputStringsCardinalDir,outputStringsIntercardDir,xyTo8DirNum,xyTo4DirNum,hdgTo8DirNum,hdgTo4DirNum,outputFrom8DirNum,combatantStatePosTo8Dir:(t,e,n)=>xyTo8DirNum(t.PosX,t.PosY,e,n),combatantStatePosTo8DirOutput:(t,e,n)=>{const r=xyTo8DirNum(t.PosX,t.PosY,e,n);return outputFrom8DirNum(r)},combatantStateHdgTo8Dir:t=>hdgTo8DirNum(t.Heading),combatantStateHdgTo8DirOutput:t=>{const e=hdgTo8DirNum(t.Heading);return outputFrom8DirNum(e)},addedCombatantPosTo8Dir:(t,e,n)=>{const r=parseFloat(t.x),i=parseFloat(t.y);return xyTo8DirNum(r,i,e,n)},addedCombatantPosTo8DirOutput:(t,e,n)=>{const r=parseFloat(t.x),i=parseFloat(t.y),o=xyTo8DirNum(r,i,e,n);return outputFrom8DirNum(o)},addedCombatantHdgTo8Dir:t=>{const e=parseFloat(t.heading);return hdgTo8DirNum(e)},addedCombatantHdgTo8DirOutput:t=>{const e=parseFloat(t.heading),n=hdgTo8DirNum(e);return outputFrom8DirNum(n)},xyTo8DirOutput:(t,e,n,r)=>{const i=xyTo8DirNum(t,e,n,r);return outputFrom8DirNum(i)}},Util$1={jobEnumToJob:t=>allJobs.find(n=>nameToJobEnum[n]===t)??"NONE",jobToJobEnum:t=>nameToJobEnum[t],jobToRole:t=>jobToRoleMap.get(t)??"none",getAllRoles:()=>allRoles,isTankJob:t=>tankJobs.includes(t),isHealerJob:t=>healerJobs.includes(t),isMeleeDpsJob:t=>meleeDpsJobs.includes(t),isRangedDpsJob:t=>rangedDpsJobs.includes(t),isCasterDpsJob:t=>casterDpsJobs.includes(t),isDpsJob:t=>dpsJobs.includes(t),isCraftingJob:t=>craftingJobs.includes(t),isGatheringJob:t=>gatheringJobs.includes(t),isCombatJob:t=>!craftingJobs.includes(t)&&!gatheringJobs.includes(t),canStun:t=>stunJobs.includes(t),canSilence:t=>silenceJobs.includes(t),canSleep:t=>sleepJobs.includes(t),canCleanse:t=>cleanseJobs.includes(t),canFeint:t=>feintJobs.includes(t),canAddle:t=>addleJobs.includes(t),watchCombatant,clearWatchCombatants:()=>{clearCombatantsOverride!==void 0?clearCombatantsOverride():defaultClearCombatants()},setWatchCombatantOverride:(t,e)=>{watchCombatantOverride=t,clearCombatantsOverride=e},gameLogCodes},data={ABloodyReunion:560,AFrostyReception:1010,APathUnveiled:1015,ARelicRebornTheChimera:368,ARelicRebornTheHydra:369,ARequiemForHeroes:830,ASleepDisturbed:914,ASpectacleForTheAges:533,AbyssosTheEighthCircle:1087,AbyssosTheEighthCircleSavage:1088,AbyssosTheFifthCircle:1081,AbyssosTheFifthCircleSavage:1082,AbyssosTheSeventhCircle:1085,AbyssosTheSeventhCircleSavage:1086,AbyssosTheSixthCircle:1083,AbyssosTheSixthCircleSavage:1084,AccrueEnmityFromMultipleTargets:540,Aglaia:1054,AirForceOne:832,AkadaemiaAnyder:841,AlaMhigo:1146,AlaMhigo63:689,AlexanderTheArmOfTheFather:444,AlexanderTheArmOfTheFatherSavage:451,AlexanderTheArmOfTheSon:522,AlexanderTheArmOfTheSonSavage:531,AlexanderTheBreathOfTheCreator:581,AlexanderTheBreathOfTheCreatorSavage:585,AlexanderTheBurdenOfTheFather:445,AlexanderTheBurdenOfTheFatherSavage:452,AlexanderTheBurdenOfTheSon:523,AlexanderTheBurdenOfTheSonSavage:532,AlexanderTheCuffOfTheFather:443,AlexanderTheCuffOfTheFatherSavage:450,AlexanderTheCuffOfTheSon:521,AlexanderTheCuffOfTheSonSavage:530,AlexanderTheEyesOfTheCreator:580,AlexanderTheEyesOfTheCreatorSavage:584,AlexanderTheFistOfTheFather:442,AlexanderTheFistOfTheFatherSavage:449,AlexanderTheFistOfTheSon:520,AlexanderTheFistOfTheSonSavage:529,AlexanderTheHeartOfTheCreator:582,AlexanderTheHeartOfTheCreatorSavage:586,AlexanderTheSoulOfTheCreator:583,AlexanderTheSoulOfTheCreatorSavage:587,AllsWellThatEndsInTheWell:220,AlphascapeV10:798,AlphascapeV10Savage:802,AlphascapeV20:799,AlphascapeV20Savage:803,AlphascapeV30:800,AlphascapeV30Savage:804,AlphascapeV40:801,AlphascapeV40Savage:805,AlzadaalsLegacy:1050,Amaurot:838,AmdaporKeep:167,AmdaporKeepHard:189,AmhAraeng:815,AnUnforeseenBargain:1120,AnabaseiosTheEleventhCircle:1151,AnabaseiosTheEleventhCircleSavage:1152,AnabaseiosTheNinthCircle:1147,AnabaseiosTheNinthCircleSavage:1148,AnabaseiosTheTenthCircle:1149,AnabaseiosTheTenthCircleSavage:1150,AnabaseiosTheTwelfthCircle:1153,AnabaseiosTheTwelfthCircleSavage:1154,AnamnesisAnyder:898,AnnoyTheVoid:222,AnotherMountRokkon:1155,AnotherMountRokkonSavage:1156,AnotherSildihnSubterrane:1075,AnotherSildihnSubterraneSavage:1076,AsTheHeartBids:894,AsTheHeavensBurn:1012,AsphodelosTheFirstCircle:1002,AsphodelosTheFirstCircleSavage:1003,AsphodelosTheFourthCircle:1008,AsphodelosTheFourthCircleSavage:1009,AsphodelosTheSecondCircle:1004,AsphodelosTheSecondCircleSavage:1005,AsphodelosTheThirdCircle:1006,AsphodelosTheThirdCircleSavage:1007,AssistAlliesInDefeatingATarget:544,Astragalos:729,AvoidAreaOfEffectAttacks:537,AzysLla:402,BaelsarsWall:1114,BaelsarsWall62:615,BardamsMettle:1143,BardamsMettle63:623,BasicTrainingEnemyParties:214,BasicTrainingEnemyStrongholds:215,BattleInTheBigKeep:396,BattleOnTheBigBridge:366,BloodOnTheDeck:708,BrayfloxsLongstop:1041,BrayfloxsLongstopHard:362,CapeWestwind:1049,CastrumAbania:1145,CastrumAbania63:661,CastrumFluminis:778,CastrumMarinum:934,CastrumMarinumExtreme:935,CastrumMeridianum:1043,CentralShroud:148,CentralThanalan:141,ChocoboRaceCostaDelSol:389,ChocoboRaceSagoliiRoad:390,ChocoboRaceTranquilPaths:391,ChocoboRaceTutorial:417,CinderDrift:897,CinderDriftExtreme:912,CoerthasCentralHighlands:155,CoerthasWesternHighlands:397,ComingClean:860,ContainmentBayP1T6:576,ContainmentBayP1T6Extreme:577,ContainmentBayP1T6Unreal:1121,ContainmentBayS1T7:517,ContainmentBayS1T7Extreme:524,ContainmentBayS1T7Unreal:1090,ContainmentBayZ1T9:637,ContainmentBayZ1T9Extreme:638,ContainmentBayZ1T9Unreal:1157,CopperbellMines:1038,CopperbellMinesHard:349,CrystallineConflictCustomMatchCloudNine:1060,CrystallineConflictCustomMatchTheClockworkCastletown:1117,CrystallineConflictCustomMatchThePalaistra:1058,CrystallineConflictCustomMatchTheVolcanicHeart:1059,CuriousGorgeMeetsHisMatch:717,CuttersCry:170,DarkAsTheNightSky:713,DeathUntoDawn:977,DefeatAnOccupiedTarget:545,DeltascapeV10:691,DeltascapeV10Savage:695,DeltascapeV20:692,DeltascapeV20Savage:696,DeltascapeV30:693,DeltascapeV30Savage:697,DeltascapeV40:694,DeltascapeV40Savage:698,DelubrumReginae:936,DelubrumReginaeSavage:937,Devastation:1052,DohnMheg:821,DomaCastle:1144,DomaCastle63:660,DragonSound:714,DragonsongsRepriseUltimate:968,DunScaith:627,DzemaelDarkhold:171,EastShroud:152,EasternLaNoscea:137,EasternThanalan:145,EdensGateDescent:850,EdensGateDescentSavage:854,EdensGateInundation:851,EdensGateInundationSavage:855,EdensGateResurrection:849,EdensGateResurrectionSavage:853,EdensGateSepulture:852,EdensGateSepultureSavage:856,EdensPromiseAnamorphosis:944,EdensPromiseAnamorphosisSavage:948,EdensPromiseEternity:945,EdensPromiseEternitySavage:949,EdensPromiseLitany:943,EdensPromiseLitanySavage:947,EdensPromiseUmbra:942,EdensPromiseUmbraSavage:946,EdensVerseFulmination:902,EdensVerseFulminationSavage:906,EdensVerseFuror:903,EdensVerseFurorSavage:907,EdensVerseIconoclasm:904,EdensVerseIconoclasmSavage:908,EdensVerseRefulgence:905,EdensVerseRefulgenceSavage:909,Elpis:961,Emanation:719,EmanationExtreme:720,EmissaryOfTheDawn:769,Endwalker:1013,EngageMultipleTargets:541,Eulmore:820,Euphrosyne:1118,EurekaOrthosFloors11_20:1100,EurekaOrthosFloors1_10:1099,EurekaOrthosFloors21_30:1101,EurekaOrthosFloors31_40:1102,EurekaOrthosFloors41_50:1103,EurekaOrthosFloors51_60:1104,EurekaOrthosFloors61_70:1105,EurekaOrthosFloors71_80:1106,EurekaOrthosFloors81_90:1107,EurekaOrthosFloors91_100:1108,EverMarchHeavensward:1018,ExecuteAComboInBattle:539,ExecuteAComboToIncreaseEnmity:538,ExecuteARangedAttackToIncreaseEnmity:542,FadedMemories:932,FinalExercise:552,FitForAQueen:955,FlickingSticksAndTakingNames:219,ForlornGlory:1051,Foundation:418,FourPlayerMahjongQuickMatchKuitanDisabled:831,Garlemald:958,GenerationalBonding:1115,Halatali:162,HalataliHard:360,HaukkeManor:1040,HaukkeManorHard:350,HealAnAlly:549,HealMultipleAllies:550,HeavenOnHighFloors11_20:771,HeavenOnHighFloors1_10:770,HeavenOnHighFloors21_30:772,HeavenOnHighFloors31_40:782,HeavenOnHighFloors41_50:773,HeavenOnHighFloors51_60:783,HeavenOnHighFloors61_70:774,HeavenOnHighFloors71_80:784,HeavenOnHighFloors81_90:775,HeavenOnHighFloors91_100:785,HellsKier:810,HellsKierExtreme:811,HellsLid:742,HeroOnTheHalfShell:216,HiddenGorge:791,HolminsterSwitch:837,HullbreakerIsle:361,HullbreakerIsleHard:557,Idyllshire:478,IlMheg:816,InFromTheCold:1011,InThalsName:705,InteractWithTheBattlefield:548,InterdimensionalRift:690,ItsProbablyATrap:665,Kholusia:814,KtisisHyperboreia:974,Kugane:628,KuganeCastle:662,KuganeOhashi:806,Labyrinthos:956,LaidToRest:1017,Lakeland:813,LapisManalis:1097,LegendOfTheNotSoHiddenTemple:859,LifeEphemeralPathEternal:1023,LimsaLominsaLowerDecks:129,LimsaLominsaUpperDecks:128,LongLiveTheQueen:298,LovmMasterTournament:506,LovmPlayerBattleNonRp:591,LovmPlayerBattleRp:589,LovmTournament:590,LowerLaNoscea:135,MalikahsWell:836,MareLamentorum:959,MatchAll:null,MatoyasRelict:933,MatsubaMayhem:710,MemoriaMiseraExtreme:913,MessengerOfTheWinds:834,MiddleLaNoscea:134,Mist:136,MorDhona:156,MoreThanAFeeler:221,MountOrdeals:1095,MountOrdealsExtreme:1096,MountRokkon:1137,MtGulg:822,Naadam:688,Neverreap:420,NewGridania:132,NorthShroud:154,NorthernThanalan:147,NyelbertsLament:876,OldGridania:133,OldSharlayan:962,OneLifeForOneWorld:592,OnsalHakairDanshigNaadam:888,OurCompromise:716,OurUnsungHeroes:722,OuterLaNoscea:180,Paglthan:938,PharosSirius:160,PharosSiriusHard:510,PullingPoisonPosies:191,RadzAtHan:963,RaisingTheSword:706,ReturnOfTheBull:403,RhalgrsReach:635,SagesFocus:1022,SaintMociannesArboretum:511,SaintMociannesArboretumHard:788,Sastasha:1036,SastashaHard:387,SealRockSeize:431,ShadowAndClaw:223,ShisuiOfTheVioletTides:616,SigmascapeV10:748,SigmascapeV10Savage:752,SigmascapeV20:749,SigmascapeV20Savage:753,SigmascapeV30:750,SigmascapeV30Savage:754,SigmascapeV40:751,SigmascapeV40Savage:755,Smileton:976,Snowcloak:1062,Snowcloak61:371,SohmAl:1064,SohmAl61:441,SohmAlHard:617,SohrKhai:1112,SohrKhai62:555,SolemnTrinity:300,SouthShroud:153,SouthernThanalan:146,SpecialEventI:353,SpecialEventIi:354,StingingBack:192,StormsCrown:1071,StormsCrownExtreme:1072,SyrcusTower:372,Thaleia:1178,Thavnair:957,TheAbyssalFracture:1168,TheAbyssalFractureExtreme:1169,TheAery:1065,TheAery61:435,TheAetherfont:1126,TheAetherochemicalResearchFacility:1110,TheAetherochemicalResearchFacility62:438,TheAitiascope:978,TheAkhAfahAmphitheatreExtreme:378,TheAkhAfahAmphitheatreHard:377,TheAkhAfahAmphitheatreUnreal:930,TheAntitower:1111,TheAntitower62:516,TheAquapolis:558,TheAurumVale:172,TheAzimSteppe:622,TheBattleOnBekko:711,TheBindingCoilOfBahamutTurn1:241,TheBindingCoilOfBahamutTurn2:242,TheBindingCoilOfBahamutTurn3:243,TheBindingCoilOfBahamutTurn4:244,TheBindingCoilOfBahamutTurn5:245,TheBorderlandRuinsSecure:376,TheBowlOfEmbers:1045,TheBowlOfEmbersExtreme:295,TheBowlOfEmbersHard:292,TheBozjaIncident:911,TheBozjanSouthernFront:920,TheBurn:1173,TheBurn64:789,TheCalamityRetold:790,TheCarteneauFlatsHeliodrome:633,TheChrysalis:426,TheChurningMists:400,TheClockworkCastletown:1116,TheCloudDeck:950,TheCloudDeckExtreme:951,TheCopiedFactory:882,TheCrownOfTheImmaculate:846,TheCrownOfTheImmaculateExtreme:848,TheCrystarium:819,TheDancingPlague:845,TheDancingPlagueExtreme:858,TheDarkInside:992,TheDeadEnds:973,TheDiadem:929,TheDiademEasy:512,TheDiademHard:515,TheDiademHuntingGrounds:625,TheDiademHuntingGroundsEasy:624,TheDiademTrialsOfTheFury:630,TheDiademTrialsOfTheMatron:656,TheDomanEnclave:759,TheDragonsNeck:142,TheDravanianForelands:398,TheDravanianHinterlands:399,TheDrownedCityOfSkalla:731,TheDungeonsOfLyheGhiah:879,TheDuskVigil:434,TheDyingGasp:847,TheEpicOfAlexanderUltimate:887,TheExcitatron6000:1e3,TheFaceOfTrueEvil:709,TheFellCourtOfTroia:1070,TheFieldsOfGloryShatter:554,TheFinalCoilOfBahamutTurn1:193,TheFinalCoilOfBahamutTurn2:194,TheFinalCoilOfBahamutTurn3:195,TheFinalCoilOfBahamutTurn4:196,TheFinalDay:997,TheFinalStepsOfFaith:559,TheForbiddenLandEurekaAnemos:732,TheForbiddenLandEurekaHydatos:827,TheForbiddenLandEurekaPagos:763,TheForbiddenLandEurekaPyros:795,TheFractalContinuum:430,TheFractalContinuumHard:743,TheFringes:612,TheGhimlytDark:1174,TheGhimlytDark64:793,TheGiftOfMercy:1019,TheGrandCosmos:884,TheGreatGubalLibrary:1109,TheGreatGubalLibrary62:416,TheGreatGubalLibraryHard:578,TheGreatHunt:761,TheGreatHuntExtreme:762,TheGreatShipVylbrand:954,TheHardenedHeart:873,TheHarvestBegins:1020,TheHauntedManor:571,TheHeartOfTheProblem:718,TheHeroesGauntlet:916,TheHiddenCanalsOfUznair:725,TheHowlingEye:1047,TheHowlingEyeExtreme:297,TheHowlingEyeHard:294,TheHuntersLegacy:875,TheJadeStoa:746,TheJadeStoaExtreme:758,TheKeeperOfTheLake:1063,TheKeeperOfTheLake61:150,TheKillingArt:1021,TheLabyrinthOfTheAncients:174,TheLimitlessBlueExtreme:447,TheLimitlessBlueHard:436,TheLochs:621,TheLostAndTheFound:874,TheLostCanalsOfUznair:712,TheLostCityOfAmdapor:363,TheLostCityOfAmdaporHard:519,TheLunarSubterrane:1164,TheMaskedCarnivale:796,TheMinstrelsBalladEndsingersAria:998,TheMinstrelsBalladHadessElegy:885,TheMinstrelsBalladHydaelynsCall:996,TheMinstrelsBalladNidhoggsRage:566,TheMinstrelsBalladShinryusDomain:730,TheMinstrelsBalladThordansReign:448,TheMinstrelsBalladTsukuyomisPain:779,TheMinstrelsBalladUltimasBane:348,TheMinstrelsBalladZodiarksFall:993,TheMothercrystal:995,TheNavel:1046,TheNavelExtreme:296,TheNavelHard:293,TheNavelUnreal:953,TheOmegaProtocolUltimate:1122,TheOrbonneMonastery:826,TheOrphansAndTheBrokenBlade:715,ThePalaceOfTheDeadFloors101_110:598,ThePalaceOfTheDeadFloors111_120:599,ThePalaceOfTheDeadFloors11_20:562,ThePalaceOfTheDeadFloors121_130:600,ThePalaceOfTheDeadFloors131_140:601,ThePalaceOfTheDeadFloors141_150:602,ThePalaceOfTheDeadFloors151_160:603,ThePalaceOfTheDeadFloors161_170:604,ThePalaceOfTheDeadFloors171_180:605,ThePalaceOfTheDeadFloors181_190:606,ThePalaceOfTheDeadFloors191_200:607,ThePalaceOfTheDeadFloors1_10:561,ThePalaceOfTheDeadFloors21_30:563,ThePalaceOfTheDeadFloors31_40:564,ThePalaceOfTheDeadFloors41_50:565,ThePalaceOfTheDeadFloors51_60:593,ThePalaceOfTheDeadFloors61_70:594,ThePalaceOfTheDeadFloors71_80:595,ThePalaceOfTheDeadFloors81_90:596,ThePalaceOfTheDeadFloors91_100:597,ThePeaks:620,ThePhantomsFeast:994,ThePillars:419,ThePoolOfTribute:674,ThePoolOfTributeExtreme:677,ThePortaDecumana:1048,ThePraetorium:1044,ThePuppetsBunker:917,TheQitanaRavel:823,TheRaktikaGreatwood:817,TheResonant:684,TheRidoranaLighthouse:776,TheRoyalCityOfRabanastre:734,TheRoyalMenagerie:679,TheRubySea:613,TheSeaOfClouds:401,TheSeatOfSacrifice:922,TheSeatOfSacrificeExtreme:923,TheSecondCoilOfBahamutSavageTurn1:380,TheSecondCoilOfBahamutSavageTurn2:381,TheSecondCoilOfBahamutSavageTurn3:382,TheSecondCoilOfBahamutSavageTurn4:383,TheSecondCoilOfBahamutTurn1:355,TheSecondCoilOfBahamutTurn2:356,TheSecondCoilOfBahamutTurn3:357,TheSecondCoilOfBahamutTurn4:358,TheShiftingAltarsOfUznair:794,TheShiftingGymnasionAgonon:1123,TheShiftingOubliettesOfLyheGhiah:924,TheSildihnSubterrane:1069,TheSingularityReactor:437,TheSingularityReactorUnreal:1175,TheSirensongSea:1142,TheSirensongSea63:626,TheStepsOfFaith:1068,TheStepsOfFaith61:143,TheStigmaDreamscape:986,TheStoneVigil:1042,TheStoneVigilHard:365,TheStrikingTreeExtreme:375,TheStrikingTreeHard:374,TheSunkenTempleOfQarn:163,TheSunkenTempleOfQarnHard:367,TheSwallowsCompass:768,TheTamTaraDeepcroft:1037,TheTamTaraDeepcroftHard:373,TheTempest:818,TheTempleOfTheFist:663,TheThousandMawsOfTotoRak:1039,TheTowerAtParadigmsBreach:966,TheTowerOfBabil:969,TheTowerOfZot:952,TheTripleTriadBattlehall:579,TheTwinning:840,TheUnendingCoilOfBahamutUltimate:733,TheValentionesCeremony:741,TheVault:1066,TheVault61:421,TheVoidArk:508,TheVoidcastDais:1140,TheVoidcastDaisExtreme:1141,TheWanderersPalace:159,TheWanderersPalaceHard:188,TheWeaponsRefrainUltimate:777,TheWeepingCityOfMhach:556,TheWhorleaterExtreme:359,TheWhorleaterHard:281,TheWhorleaterUnreal:972,TheWillOfTheMoon:797,TheWorldOfDarkness:151,TheWreathOfSnakes:824,TheWreathOfSnakesExtreme:825,ThokAstThokExtreme:446,ThokAstThokHard:432,ThornmarchExtreme:364,ThornmarchHard:1067,ThornmarchHard61:207,ToCalmerSeas:1016,TripleTriadInvitationalParlor:941,TripleTriadOpenTournament:940,UldahStepsOfNald:130,UldahStepsOfThal:131,UltimaThule:960,UltimasBaneUnreal:1035,UnderTheArmor:190,UpperLaNoscea:139,UrthsFount:394,Vanaspati:970,VowsOfVirtueDeedsOfCruelty:893,WardUp:299,WesternLaNoscea:138,WesternThanalan:140,WhenClansCollide:723,WhereEverythingBegins:1091,WithHeartAndSteel:707,WolvesDenPier:250,WorthyOfHisBack:1014,Xelphatol:1113,Xelphatol62:572,Yanxia:614,Zadnor:975},Conditions=_Conditions,ContentType=ContentType$1,NetRegexes=NetRegexes$1,Regexes=Regexes$1,Responses=Responses$1,Outputs=_Outputs,Util=Util$1,Directions=Directions$1,ZoneId=data,ZoneInfo=data$2;console.assert(Conditions);console.assert(ContentType);console.assert(NetRegexes);console.assert(Regexes);console.assert(Responses);console.assert(Outputs);console.assert(Util);console.assert(Directions);console.assert(ZoneId);console.assert(ZoneInfo);class UserConfig{constructor(){W(this,"optionTemplates",{});W(this,"userFileCallbacks",{});W(this,"savedConfig",{})}getDefaultBaseOptions(){return{ParserLanguage:"en",ShortLocale:"en",DisplayLanguage:"en",TextAlertsEnabled:!0,SoundAlertsEnabled:!0,SpokenAlertsEnabled:!1,GroupSpokenAlertsEnabled:!1,SystemInfo:{cactbotVersion:"0.0.0.0",overlayPluginVersion:"0.0.0.0",ffxivPluginVersion:"0.0.0.0",actVersion:"0.0.0.0",gameRegion:"International"},Debug:!1}}evalUserFile(content,options){const Options=options;console.assert(Options),eval(content)}registerOptions(t,e,n){this.optionTemplates[t]=e,n&&(this.userFileCallbacks[t]=n)}sortUserFiles(t){const e={};for(const n of t)e[n]=n.toUpperCase().split(/[/\\]/);return t.sort((n,r)=>{const i=e[n],o=e[r];if(i===void 0||o===void 0)throw new UnreachableCode;const a=Math.max(i.length,o.length);for(let l=0;l<a;++l){const s=i[l],u=o[l];if(s===void 0||u===void 0)throw new UnreachableCode;const g=i.length-1===l,k=o.length-1===l;if(g&&k){const A=s.replace(/\.[^\.]*$/,""),F=u.replace(/\.[^\.]*$/,""),b=A.localeCompare(F);return b||s.localeCompare(u)}else if(!g&&!k){const A=s.localeCompare(u);if(A)return A}if(i.length-1<=l)return 1;if(o.length-1<=l)return-1}return 0})}filterUserFiles(t,e,n){const r=n.toLowerCase(),i=e.toLowerCase();return t.filter(o=>{const a=o.toLowerCase();return a.endsWith(r)?!!(a===`${i}${r}`||a.startsWith(`${i}/`)||a.startsWith(`${i}\\`)):!1})}getUserConfigLocation(t,e,n){let r=!1;const i=()=>{r||(r=!0,window.location.reload())};addOverlayListener$1("onUserFileChanged",()=>{i()}),addOverlayListener$1("onForceReload",()=>{i()}),this.loadUserFiles(t,e,n)}loadUserFiles(t,e,n,r=!0){const i=callOverlayHandler({call:"cactbotLoadData",overlay:"options"}),o=async a=>{var $,V,P;const l=`${a.detail.userLocation.replace(/[/\\]*$/,"")}\\`,s=a.detail.localUserFiles;if(e.SystemInfo={cactbotVersion:a.detail.cactbotVersion,overlayPluginVersion:a.detail.overlayPluginVersion,ffxivPluginVersion:a.detail.ffxivPluginVersion,actVersion:a.detail.actVersion,gameRegion:a.detail.gameRegion},a.detail.language&&(e.ParserLanguage=a.detail.language,e.ShortLocale=a.detail.language,e.DisplayLanguage=a.detail.language),a.detail.parserLanguage&&(e.ParserLanguage=a.detail.parserLanguage,e.Language=a.detail.parserLanguage),a.detail.systemLocale){e.SystemLocale=a.detail.systemLocale;let O=a.detail.systemLocale.slice(0,2);O==="zh"&&(O="cn"),isLang(O)?e.ShortLocale=O:e.ShortLocale=e.ParserLanguage}const u=a.detail.displayLanguage;isLang(u)?e.DisplayLanguage=u:e.DisplayLanguage=e.ParserLanguage||"en",document.documentElement.classList.add(`lang-${e.DisplayLanguage}`),document.documentElement.lang=langToLocale(e.DisplayLanguage),this.addUnlockText(e.DisplayLanguage),this.savedConfig=(($=await i)==null?void 0:$.data)??{};const g=this.optionTemplates[t];if(g!==void 0){const O=this.savedConfig[t]??{};this.processOptions(e,e,O,g.options),g.processExtraOptions&&g.processExtraOptions(e,O)}const A=e.Debug!==void 0&&e.Debug!==!1?O=>console.log(O):()=>{},F={raidboss:["Triggers"]};F[t]=F[t]||[];const b={};if(s){const O=this.sortUserFiles(Object.keys(s)),_=this.filterUserFiles(O,t,".js"),H=r?this.filterUserFiles(O,t,".css"):[];for(const h of _)try{A(`local user file: ${l}${h}`),this.evalUserFile(s[h]??"",e);for(const T of F[t]??[]){const x=b[T];x!=null&&x!==e[T]&&console.log(`*** WARNING: ${l}${h} overwrites Options.${T} from previous files.`),b[T]=e[T]}(P=(V=this.userFileCallbacks)[t])==null||P.call(V,h,s,e,l)}catch(T){console.log("*** ERROR IN USER FILE ***"),console.log(T)}e.Skin!==void 0&&this.handleSkin(e.Skin);for(const h of H){A(`local user file: ${l}${h}`);const T=document.createElement("style"),x=s[h];x!==void 0&&(T.innerText=x);const L=document.getElementsByTagName("head")[0];L&&L.appendChild(T)}}n(),callOverlayHandler({call:"cactbotRequestState"})};callOverlayHandler({call:"cactbotLoadUser",source:location.href,overlayName:t}).then(a=>{if(document.readyState!=="loading"){o(a);return}document.addEventListener("DOMContentLoaded",()=>{o(a)})})}handleSkin(t){if(!t||t==="default")return;const e=`skins/${t}/${t}.css`;this.appendCSSLink(e)}appendJSLink(t){const e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t),e.setAttribute("async","false");const n=document.getElementsByTagName("head")[0];n&&n.appendChild(e)}appendCSSLink(t){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t);const n=document.getElementsByTagName("head")[0];n&&n.appendChild(e)}processOptions(t,e,n,r){if(r!==void 0)for(const i of r){let o;typeof i.default=="function"?o=i.default(t):o=i.default;let a=!0;if(typeof n=="object"&&!Array.isArray(n)&&i.id in n){const l=n[i.id];l!==void 0&&l!==""&&(o=l,a=!1)}if(i.setterFunc){const l=i.setterFunc(o,t,a);l!==void 0&&(e[i.id]=l)}else i.type==="integer"?typeof o=="number"?e[i.id]=Math.floor(o):typeof o=="string"&&(e[i.id]=parseInt(o)):i.type==="float"?typeof o=="number"?e[i.id]=o:typeof o=="string"&&(e[i.id]=parseFloat(o)):e[i.id]=o}}addUnlockText(t){const e={en:"🔓 Unlocked (lock overlay before using)",de:"🔓 Entsperrt (Sperre das Overlay vor der Nutzung)",fr:"🔓 Débloqué (Bloquez l'overlay avant utilisation)",ja:"🔓 ロック解除 (オーバーレイを使用する前にロックしてください)",cn:"🔓 已解除锁定 (你需要将此悬浮窗锁定后方可使用)",ko:"🔓 위치 잠금 해제됨 (사용하기 전에 위치 잠금을 설정하세요)"},n="cactbot-unlocked-text";let r=document.getElementById(n);r||(r=document.createElement("div"),r.id=n,r.classList.add("text"),r.style.display="none",document.body.append(r)),r.innerHTML=e[t]||e.en}}const UserConfig$1=new UserConfig;typeof document<"u"&&document.addEventListener("onOverlayStateUpdate",t=>{const e=document.documentElement.classList;t.detail.isLocked?e.remove("resize-handle","unlocked"):e.add("resize-handle","unlocked")});const localeLines={countdownStart:{en:"Battle commencing in (?<time>\\y{Float}) seconds! \\((?<player>.*?)\\)",de:"Noch (?<time>\\y{Float}) Sekunden bis Kampfbeginn! \\((?<player>.*?)\\)",fr:"Début du combat dans (?<time>\\y{Float}) secondes[ ]?! \\((?<player>.*?)\\)",ja:"戦闘開始まで(?<time>\\y{Float})秒！ （(?<player>.*?)）",cn:"距离战斗开始还有(?<time>\\y{Float})秒！ （(?<player>.*?)）",ko:"전투 시작 (?<time>\\y{Float})초 전! \\((?<player>.*?)\\)"},countdownEngage:{en:"Engage!",de:"Start!",fr:"À l'attaque[ ]?!",ja:"戦闘開始！",cn:"战斗开始！",ko:"전투 시작!"},countdownCancel:{en:"Countdown canceled by (?<player>\\y{Name})",de:"(?<player>\\y{Name}) hat den Countdown abgebrochen",fr:"Le compte à rebours a été interrompu par (?<player>\\y{Name})[ ]?\\.",ja:"(?<player>\\y{Name})により、戦闘開始カウントがキャンセルされました。",cn:"(?<player>\\y{Name})取消了战斗开始倒计时。",ko:"(?<player>\\y{Name}) 님이 초읽기를 취소했습니다\\."},areaSeal:{en:"(?<area>.*?) will be sealed off in (?<time>\\y{Float}) seconds!",de:"Noch (?<time>\\y{Float}) Sekunden, bis sich (?<area>.*?) schließt",fr:"Fermeture (?<area>.*?) dans (?<time>\\y{Float}) secondes[ ]?\\.",ja:"(?<area>.*?)の封鎖まであと(?<time>\\y{Float})秒",cn:"距(?<area>.*?)被封锁还有(?<time>\\y{Float})秒",ko:"(?<time>\\y{Float})초 후에 (?<area>.*?)(이|가) 봉쇄됩니다\\."},areaUnseal:{en:"(?<area>.*?) is no longer sealed.",de:"(?<area>.*?) öffnet sich erneut.",fr:"Ouverture (?<area>.*?)[ ]?!",ja:"(?<area>.*?)の封鎖が解かれた……",cn:"(?<area>.*?)的封锁解除了",ko:"(?<area>.*?)의 봉쇄가 해제되었습니다\\."},craftingStart:{en:"You begin synthesizing (?<count>(an?|\\d+) )?(?<recipe>.*)\\.",de:"Du hast begonnen, durch Synthese (?<count>(ein(e|es|em|er)?|\\d+) )?(?<recipe>.*) herzustellen\\.",fr:"Vous commencez à fabriquer (?<count>(une?|\\d+) )?(?<recipe>.*)\\.",ja:"(?<player>\\y{Name})は(?<recipe>.*)(×(?<count>\\d+))?の製作を開始した。",cn:"(?<player>\\y{Name})开始制作“(?<recipe>.*)”(×(?<count>\\d+))?。",ko:"(?<recipe>.*)(×(?<count>\\d+)개)? 제작을 시작합니다\\."},trialCraftingStart:{en:"You begin trial synthesis of (?<recipe>.*)\\.",de:"Du hast mit der Testsynthese von (?<recipe>.*) begonnen\\.",fr:"Vous commencez une synthèse d'essai pour une? (?<recipe>.*)\\.",ja:"(?<player>\\y{Name})は(?<recipe>.*)の製作練習を開始した。",cn:"(?<player>\\y{Name})开始练习制作(?<recipe>.*)。",ko:"(?<recipe>.*) 제작 연습을 시작합니다\\."},craftingFinish:{en:"You synthesize (?<count>(an?|\\d+) )?(?<recipe>.*)()?\\.",de:"Du hast erfolgreich (?<count>(ein(e|es|em|er)?|\\d+) )?(?<recipe>.*)()? hergestellt\\.",fr:"Vous fabriquez (?<count>(une?|\\d+) )?(?<recipe>.*)()?\\.",ja:"(?<player>\\y{Name})は(?<recipe>.*)()?(×(?<count>\\d+))?を完成させた！",cn:"(?<player>\\y{Name})制作“(?<recipe>.*)()?”(×(?<count>\\d+))?成功！",ko:"(?<player>\\y{Name}) 님이 (?<recipe>.*)()?(×(?<count>\\d+)개)?(을|를) 완성했습니다!"},trialCraftingFinish:{en:"Your trial synthesis of (?<recipe>.*) proved a success!",de:"Die Testsynthese von (?<recipe>.*) war erfolgreich!",fr:"Votre synthèse d'essai pour fabriquer (?<recipe>.*) a été couronnée de succès!",ja:"(?<player>\\y{Name})は(?<recipe>.*)の製作練習に成功した！",cn:"(?<player>\\y{Name})练习制作(?<recipe>.*)成功了！",ko:"(?<recipe>.*) 제작 연습에 성공했습니다!"},craftingFail:{en:"Your synthesis fails!",de:"Deine Synthese ist fehlgeschlagen!",fr:"La synthèse échoue\\.{3}",ja:"(?<player>\\y{Name})は製作に失敗した……",cn:"(?<player>\\y{Name})制作失败了……",ko:"제작에 실패했습니다……\\."},trialCraftingFail:{en:"Your trial synthesis of (?<recipe>.*) failed\\.{3}",de:"Die Testsynthese von (?<recipe>.*) ist fehlgeschlagen\\.{3}",fr:"Votre synthèse d'essai pour fabriquer (?<recipe>.*) s'est soldée par un échec\\.{3}",ja:"(?<player>\\y{Name})は(?<recipe>.*)の製作練習に失敗した……",cn:"(?<player>\\y{Name})练习制作(?<recipe>.*)失败了……",ko:"(?<recipe>.*) 제작 연습에 실패했습니다……\\."},craftingCancel:{en:"You cancel the synthesis\\.",de:"Du hast die Synthese abgebrochen\\.",fr:"La synthèse est annulée\\.",ja:"(?<player>\\y{Name})は製作を中止した。",cn:"(?<player>\\y{Name})中止了制作作业。",ko:"제작을 중지했습니다\\."},trialCraftingCancel:{en:"You abandoned trial synthesis\\.",de:"Testsynthese abgebrochen\\.",fr:"Vous avez interrompu la synthèse d'essai\\.",ja:"(?<player>\\y{Name})は製作練習を中止した。",cn:"(?<player>\\y{Name})停止了练习。",ko:"제작 연습을 중지했습니다\\."}};class RegexSet{constructor(){W(this,"regexes");W(this,"netRegexes")}get localeRegex(){return this.regexes?this.regexes:(this.regexes=this.buildLocaleRegexes(localeLines,e=>Regexes$1.gameLog({line:`${e}.*?`})),this.regexes)}get localeNetRegex(){return this.netRegexes?this.netRegexes:(this.netRegexes=this.buildLocaleRegexes(localeLines,e=>NetRegexes$1.gameLog({line:`${e}[^|]*?`})),this.netRegexes)}buildLocaleRegexes(e,n){return Object.fromEntries(Object.entries(e).map(([r,i])=>[r,this.buildLocaleRegex(i,n)]))}buildLocaleRegex(e,n){const r=n(e.en);return{en:r,de:e.de!==void 0?n(e.de):r,fr:e.fr!==void 0?n(e.fr):r,ja:e.ja!==void 0?n(e.ja):r,cn:e.cn!==void 0?n(e.cn):r,ko:e.ko!==void 0?n(e.ko):r}}}const regexSet=new RegexSet;regexSet.localeRegex;const LocaleNetRegex=regexSet.localeNetRegex,_sfc_main=defineComponent({__name:"obs",setup(t){var I;const e=[ContentType$1.DutyRoulette,ContentType$1.Dungeons,ContentType$1.DeepDungeons,ContentType$1.VCDungeonFinder,ContentType$1.Pvp,ContentType$1.Trials,ContentType$1.Raids,ContentType$1.UltimateRaids],n={Default:"default",UltimateOrRaidOrTrials:"ultimateOrRaidOrTrials",VcOrDeepDungeons:"vcOrDeepDungeons",Pvp:"pvp"},r=(I=JSON.parse(window.localStorage.getItem("obs2-data")??"{}"))==null?void 0:I.password,i=useStorage("obs-passwd",r??""),o=useStorage("aster-obs-config",{host:"127.0.0.1:4455",greaterThan:0,userRecFilePath:"",suffixByZone:!0,inCombatStart:!0,autoForZones:e,recFilePaths:Object.fromEntries(Object.values(n).map(c=>[c,""]))}),a={partyLength:1,inACTCombat:!1,zoneID:0,zoneName:"Unknown",zoneType:n.Default,reason:""},l=reactive({connected:!1,recording:!1}),s=new OBSWebSocket,u=ref(!1),g=ref(!0),k=ref(!1),A={...UserConfig$1.getDefaultBaseOptions()},F=window.location.href.includes("?dev=1")?console.log:()=>{};onMounted(async()=>{s.on("ExitStarted",_),s.on("ConnectionClosed",_),s.on("ConnectionError",_),s.on("RecordStateChanged",H),UserConfig$1.getUserConfigLocation("obs",A,()=>{addOverlayListener("LogLine",L),addOverlayListener("ChangeZone",y),addOverlayListener("onInCombatChangedEvent",D),addOverlayListener("PartyChanged",B),startOverlayEvents()}),i.value!==""?await b(!0):VXETable.modal.alert({content:"先锁定悬浮窗，再填写端口与密码",title:"初次使用",width:"80%",size:"mini"})}),onUnmounted(()=>{s.off("ExitStarted",_),s.off("ConnectionClosed",_),s.off("ConnectionError",_),s.off("RecordStateChanged",H),removeOverlayListener("LogLine",L),removeOverlayListener("ChangeZone",y),removeOverlayListener("onInCombatChangedEvent",D),removeOverlayListener("PartyChanged",B),s.disconnect()});async function b(c=!1){return s.connect(`ws://${o.value.host}`,i.value).then(d=>(o.value.userRecFilePath||$(),s.call("GetRecordStatus").then(m=>l.recording=m.outputActive),VXETable.modal.message({content:"连接成功",status:"success",width:"7rem",size:"mini",top:8}),l.connected=!0,g.value=!1,u.value=!0,Promise.resolve(!0))).catch(d=>(l.connected=!1,c?VXETable.modal.message({content:"连接失败",status:"error",width:"7rem",size:"mini",top:8}):g.value=!1,Promise.resolve(!1)))}async function $(){return s.call("GetRecordDirectory").then(c=>{c&&c.recordDirectory&&(o.value.userRecFilePath=c.recordDirectory,o.value.recFilePaths.default===""&&(o.value.recFilePaths.default=c.recordDirectory))})}async function V(c=!1){var v;if(!l.connected&&!await b())return Promise.resolve(!1);let d=o.value.userRecFilePath,m="";o.value.suffixByZone&&(m="%CCYY-%MM-%DD %hh-%mm-%ss"),c||(m&&(m+=" "+a.zoneName.replaceAll(":","_")),o.value.userRecFilePath||await $(),d=(v=o.value.recFilePaths[a.zoneType])==null?void 0:v.trim(),d||(d=o.value.recFilePaths.default));const f=[];return d!==""&&(F("[setFolder] ",{revert:c,recFilePath:d}),f.push({requestType:"SetProfileParameter",requestData:{parameterCategory:"SimpleOutput",parameterName:"FilePath",parameterValue:d}}),f.push({requestType:"SetProfileParameter",requestData:{parameterCategory:"AdvOut",parameterName:"RecFilePath",parameterValue:d}})),m!==""&&(F("[setName] ",{revert:c,filenameFormatting:m}),f.push({requestType:"SetProfileParameter",requestData:{parameterCategory:"Output",parameterName:"FilenameFormatting",parameterValue:m}})),f.length>0?s.callBatch(f):Promise.resolve(!0)}async function P(c,d=!0,m=!1){F("[obs_start_prepare] ",{recording:l.recording,data:a,reason:c,restart:d,justDoIt:m});try{if(a.reason==="countDown"&&(a.reason=c),!m&&a.partyLength<=o.value.greaterThan)return Promise.resolve(!0);if(!l.connected&&!await b())return Promise.resolve(!1);if(l.recording&&!d)return Promise.resolve(!0);if(a.reason=c,l.recording&&d&&(await s.call("StopRecord"),await new Promise(f=>setTimeout(f,2e3))),await V(!1)!==!1)return await new Promise(f=>setTimeout(f,500)),F("[obs_start] ",{recording:l.recording,data:a,reason:c,restart:d,justDoIt:m}),s.call("StartRecord").then(f=>setTimeout(v=>V(!0),2e3))}catch(f){console.warn(["obs_start_error"],f)}return Promise.resolve(!1)}async function O(c=""){return F("[obs_stop] ",{recording:l.recording,data:a,reason:c}),l.recording?s.call("StopRecord"):Promise.resolve(!0)}function _(){l.connected=!1}function H(c){switch(c.outputState){case"OBS_WEBSOCKET_OUTPUT_STARTED":l.recording=!0;return;case"OBS_WEBSOCKET_OUTPUT_STOPPED":l.recording=!1;return}}const h=c=>commonNetRegex.wipe.test(c)||/^41\|[^|]*\|[^|]*\|7DE\|/.test(c),T=c=>LocaleNetRegex.countdownStart[A.ParserLanguage].test(c),x=c=>LocaleNetRegex.countdownCancel[A.ParserLanguage].test(c);async function L(c){if(l.recording){if(h(c.rawLine))return O("wipe");if(a.reason==="countDown"&&x(c.rawLine))return O("countDown")}else if(T(c.rawLine))return P("countDown",!1);return Promise.resolve()}async function y(c){if(a.zoneID===c.zoneID)return Promise.resolve();a.zoneID=c.zoneID,a.zoneName=c.zoneName,a.zoneType=n.Default;const d=ZoneInfo$1[c.zoneID];return!d||!d.contentType?(F(["changeZone"],{data:a,ev:c}),O("changeZone")):(a.zoneName=d.name[A.ParserLanguage]??c.zoneName,a.zoneType=C(d),F(["changeZone"],{data:a,ev:c}),o.value.autoForZones.includes(d.contentType)?P("changeZone",!1):O("changeZone"))}function C(c){var d,m;switch(c.contentType){case ContentType$1.UltimateRaids:return n.UltimateOrRaidOrTrials;case ContentType$1.Pvp:return n.Pvp;case ContentType$1.DeepDungeons:case ContentType$1.VCDungeonFinder:return n.VcOrDeepDungeons;case ContentType$1.Trials:if((d=c.name.fr)!=null&&d.includes("(extrême)"))return n.UltimateOrRaidOrTrials;break;case ContentType$1.Raids:if((m=c.name.en)!=null&&m.includes("(Savage)"))return n.UltimateOrRaidOrTrials;break}return n.Default}async function D(c){if(!o.value.inCombatStart)return Promise.resolve();const d=a.inACTCombat;if(a.inACTCombat=c.detail.inACTCombat,F(["InCombatChanged"],{now:c.detail.inACTCombat,prev:d,zoneName:a.zoneName,recording:l.recording}),await new Promise(v=>setTimeout(v,500)),!d&&c.detail.inACTCombat)return P("inCombat",!1);const m=ZoneInfo$1[a.zoneID],f=o.value.autoForZones.includes((m==null?void 0:m.contentType)??0);return d&&!c.detail.inACTCombat&&a.reason==="inCombat"&&!f?O("inCombat"):Promise.resolve()}function B(c){var d;a.partyLength=((d=c.party)==null?void 0:d.length)||1}function U(c){u.value=c!=="settings",g.value=c==="settings"}return(c,d)=>{const m=resolveComponent("vxe-button"),f=resolveComponent("vxe-form-item"),v=resolveComponent("vxe-input"),E=resolveComponent("vxe-switch"),w=resolveComponent("vxe-checkbox"),M=resolveComponent("vxe-checkbox-group"),S=resolveComponent("vxe-form");return openBlock(),createElementBlock(Fragment,null,[withDirectives(createBaseVNode("header",null,[createBaseVNode("div",null,[withDirectives(createBaseVNode("i",{class:"vxe-icon-dot icon",style:normalizeStyle({color:unref(l).recording?"red":"gray",textShadow:"0px  0px 3px black",margin:"1px"})},null,4),[[vShow,unref(l).connected]]),withDirectives(createVNode(m,{class:"btns",icon:"vxe-icon-caret-right",onClick:d[0]||(d[0]=p=>P("manual",!1,!0))},null,512),[[vShow,unref(l).connected&&!unref(l).recording]]),withDirectives(createVNode(m,{class:"btns",icon:"vxe-icon-close",onClick:d[1]||(d[1]=p=>O("manual")),size:"mini"},null,512),[[vShow,unref(l).connected&&unref(l).recording]]),withDirectives(createVNode(m,{class:"btns",icon:"vxe-icon-cut",onClick:d[2]||(d[2]=p=>P("manual",!0,!0)),size:"mini"},null,512),[[vShow,unref(l).connected&&unref(l).recording]]),createVNode(m,{class:"btns settings",icon:"vxe-icon-setting",onClick:d[3]||(d[3]=p=>U("settings")),size:"mini"})])],512),[[vShow,unref(u)]]),withDirectives(createBaseVNode("main",null,[createVNode(S,{data:unref(o),collapseStatus:!unref(k),"custom-layout":"",size:"mini"},{default:withCtx(()=>[withDirectives(createVNode(f,{span:"24","class-name":"hidePageBtn"},{default:withCtx(()=>[createVNode(m,{size:"mini",content:"隐藏页面",icon:"vxe-icon-eye-fill-close",onClick:d[4]||(d[4]=p=>U("header"))})]),_:1},512),[[vShow,unref(g)]]),createVNode(f,{span:"24",field:"host",title:"主机"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(o).host,"onUpdate:modelValue":d[5]||(d[5]=p=>unref(o).host=p),size:"small",placeholder:"127.0.0.1:4455",style:{width:"70%","margin-right":"-5px"}},null,8,["modelValue"]),createVNode(m,{content:"帮助",size:"mini",icon:"vxe-icon-question",type:"text",status:"info",onClick:d[6]||(d[6]=p=>unref(VXETable).modal.message({content:"先点击ACT，再点击悬浮窗，即可正常输入"}))})]),_:1}),createVNode(f,{span:"24",field:"password",title:"密码"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(i),"onUpdate:modelValue":d[7]||(d[7]=p=>isRef(i)?i.value=p:null),size:"small",placeholder:"密码",type:"password"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24",field:"inCombatStart",title:"进入战斗自动录制"},{default:withCtx(()=>[createVNode(E,{modelValue:unref(o).inCombatStart,"onUpdate:modelValue":d[8]||(d[8]=p=>unref(o).inCombatStart=p),"open-label":"是","close-label":"否"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24",field:"suffixByZone",title:"录像文件名添加副本名后缀"},{default:withCtx(()=>[createVNode(E,{modelValue:unref(o).suffixByZone,"onUpdate:modelValue":d[9]||(d[9]=p=>unref(o).suffixByZone=p),"open-label":"是","close-label":"否"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24",field:"greaterThan",title:"小队多于"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(o).greaterThan,"onUpdate:modelValue":d[10]||(d[10]=p=>unref(o).greaterThan=p),size:"small",type:"integer",min:"0",max:"8",style:{width:"3rem"}},null,8,["modelValue"]),createTextVNode(" 人自动录制（8:永不自动） ")]),_:1}),createVNode(f,{span:"24",field:"autoForZones",title:"进入区域自动录制","class-name":"zoneAuto",folding:"","title-overflow":""},{default:withCtx(()=>[createVNode(M,{modelValue:unref(o).autoForZones,"onUpdate:modelValue":d[11]||(d[11]=p=>unref(o).autoForZones=p)},{default:withCtx(()=>[createVNode(w,{label:unref(ContentType$1).UltimateRaids,content:"绝境战"},null,8,["label"]),createVNode(w,{label:unref(ContentType$1).Raids,content:"大型Raid"},null,8,["label"]),createVNode(w,{label:unref(ContentType$1).Trials,content:"讨伐战"},null,8,["label"]),createVNode(w,{label:unref(ContentType$1).VCDungeonFinder,content:"异闻迷宫"},null,8,["label"]),createVNode(w,{label:unref(ContentType$1).DeepDungeons,content:"深层迷宫"},null,8,["label"]),createVNode(w,{label:unref(ContentType$1).Dungeons,content:"4人迷宫"},null,8,["label"]),createVNode(w,{label:unref(ContentType$1).Pvp,content:"PVP"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),createVNode(f,{span:"24",title:"录像目录（须保证目录存在，可留空）",folding:""}),createVNode(f,{span:"24",title:"默认",folding:"","class-name":"recPaths"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(o).recFilePaths.default,"onUpdate:modelValue":d[12]||(d[12]=p=>unref(o).recFilePaths.default=p),size:"small",placeholder:"留空则使用OBS录像目录",spellcheck:"false"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24",title:"高难",folding:"","class-name":"recPaths"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(o).recFilePaths.ultimateOrRaidOrTrials,"onUpdate:modelValue":d[13]||(d[13]=p=>unref(o).recFilePaths.ultimateOrRaidOrTrials=p),size:"small",placeholder:"绝&零式&极神",spellcheck:"false"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24",title:"深层",folding:"","class-name":"recPaths"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(o).recFilePaths.vcOrDeepDungeons,"onUpdate:modelValue":d[14]||(d[14]=p=>unref(o).recFilePaths.vcOrDeepDungeons=p),size:"small",placeholder:"深层&异闻迷宫",spellcheck:"false"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24",title:"PVP",folding:"","class-name":"recPaths"},{default:withCtx(()=>[createVNode(v,{modelValue:unref(o).recFilePaths.pvp,"onUpdate:modelValue":d[15]||(d[15]=p=>unref(o).recFilePaths.pvp=p),size:"small",placeholder:"玩家对战",spellcheck:"false"},null,8,["modelValue"])]),_:1}),createVNode(f,{span:"24","collapse-node":""},{default:withCtx(()=>[createVNode(m,{size:"mini",status:"primary",icon:"vxe-icon-swap",content:"连接",onClick:d[16]||(d[16]=p=>b(!0))})]),_:1})]),_:1},8,["data","collapseStatus"])],512),[[vShow,unref(g)]])],64)}}}),obs_vue_vue_type_style_index_0_lang="";export{_sfc_main as default};
