import{d as y,y as $,v as F,Z as w,o as x,b as p,D as k,ar as I,u as b,f as i,a1 as B,H as D,I as E,Q as S,t as W}from"./vendor-834361d8.js";import{_ as z}from"./index-8c167162.js";const O=y({__name:"hexcode",setup(V){const t=$("hexcode",""),d=F([]);return w(()=>{console.clear();let s=0;for(d.value.length=0;s<t.value.length;){const n=[],l=t.value.indexOf("<hex:02",s),o=t.value.indexOf("<hex:FF",s);if(l===-1&&o===-1)break;const h=l===-1?o:l,a=h===o?-2:0;l!==-1?s=l+1:o!==-1&&(s=o+1);const g=t.value.slice(s+6+a,s+8+a),v=t.value.slice(s+8+a,s+10+a),m=parseInt(v,16);n.push(`指令${g} 长度${v}(${m})`);let c=0,u=0,r=!0,f=!0;for(;u<m;c++){t.value[h+11+a+c-1];const e=t.value[h+11+a+c];if(e===">"&&(r=!1,f=!1),e==="<"&&(r=!0,f=!1),!(r&&!f))if(/\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3010|\u3011|\u007e/.test(e))u+=3,console.debug(e,"+3",`已数${u}`);else if(/[\u4e00-\u9fa5\u0800-\u4e00]/.test(e))u+=3,console.debug(e,"+3",`已数${u}`);else if(/[a-zA-Z0-9!"#$%&'()*+,-./:;=?@\[\]\^_{\|}~]/.test(e))u+=r?.5:1,console.debug(e,r?"+0.5":"+1",`已数${u}`);else if(e===">"||e==="<")console.debug(e,"+0","跳过");else throw new Error("error: "+e);e===":"&&(f=!0)}const _=t.value.slice(s+a+c+3,s+a+c+11);n.push(_.endsWith("03>")||_.startsWith("<hex:FF")?"通过":`失败（${_}）`),d.value.push(n.join(" "))}}),(s,n)=>(x(),p("main",null,[k(i("textarea",{name:"",id:"",cols:"100",rows:"5","onUpdate:modelValue":n[0]||(n[0]=l=>B(t)?t.value=l:null)},null,512),[[I,b(t)]]),i("article",null,[i("ul",null,[(x(!0),p(D,null,E(b(d),(l,o)=>(x(),p("li",{key:o},[i("span",{style:S({color:l.endsWith("通过")?"black":"red"})},W(l),5)]))),128))])])]))}});const A=z(O,[["__scopeId","data-v-ed1855c0"]]);export{A as default};
