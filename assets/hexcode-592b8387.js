import{d as K,A as p,C as R,a0 as B,o as m,b as _,h as b,at as y,u as s,g as c,a3 as $,I as k,t as u,J as X,K as O,aJ as P,p as W,l as j,S as q}from"./vendor-5d3cd767.js";import{_ as G}from"./index-f608841b.js";const L=h=>(W("data-v-f0514c80"),h=h(),j(),h),Q=L(()=>c("h2",null,"UTF8长度计算",-1)),Y=L(()=>c("h2",null,u("指令码检测（不包括FFXX>）"),-1)),Z=["innerHTML"],ee=K({__name:"hexcode",setup(h){const f=p(""),d=p(""),F=p(0),g=p(0),r=R("hexcode",""),A=p([]),w=p("");B(()=>{F.value=v(f.value),g.value=v(d.value),w.value=(F.value-g.value).toString(16).toUpperCase()});function v(a){let e=0;for(let l=0;l<a.length;l++){const t=a.charCodeAt(l);t<128?e+=1:t<2048?e+=2:t<65536?e+=3:t<2097152&&(e+=4)}return e}function V(a){let e=0;const l=[];for(;e<a.length;){const t=a.indexOf("<hex:02",e);if(t===-1||(e=t+1,a.slice(e-1,e+9)==="<hex:0203>"))break;const N=a.slice(e+6,e+8),C=a.slice(e+8,e+10),S=Number.parseInt(C,16),z=`指令${N} 长度${C}(${S})`;let n=0,I=0,x=!0,i=!0;for(;I<S;n++){const o=a[t+n+11],J=a.slice(t+n+11,t+n+11+5);if(o===void 0)break;if(o==="<"&&(x=!0,i=!1),!(x&&!i)){if(!(o===">"&&i)){if(!(o==="<"&&J==="<hex:")){const U=v(o);I+=x?U/2:U}}}o===":"&&(i=!0),o===">"&&(x=!1,i=!1)}const T=a.slice(e+n+3,e+n+11),D=a.slice(e+10,e+10+n);l.push({passed:T.endsWith("03>"),over:T,msg:z,full:D})}return l}B(()=>{A.value.length=0,r.value.split(`
`).forEach(a=>{const e=V(a);A.value.push(...e)})});function E(a){return a.replaceAll("<hex:024804F201F803><hex:024904F201F903>",'<span style="color:#00cc22;">').replaceAll("<hex:024804F201FA03><hex:024904F201FB03>",'<span style="color:#ffff66;">').replaceAll("<hex:0249020103><hex:0248020103>","</span>").replaceAll("<hex:02100103>","<br>").replaceAll("<hex:024804F201F403><hex:024904F201F503>",'<span style="color:#ff7b1a;">').replaceAll(/(<)(hex:[^>]+)(>)/g,"&lt;$2&gt;")}function H(){P(()=>{r.value=r.value.replaceAll(/\n/g,"<hex:02100103>")})}function M(){r.value=r.value.replaceAll(/<hex:024804F201F803><hex:024904F201F903>追加効果：<hex:0249020103><hex:0248020103>自身に<hex:024804F201F403><hex:024904F201F503>「(.+?)」<hex:0249020103><hex:0248020103>を付与する。/g,"<hex:024804F201F803><hex:024904F201F903>追加效果：<hex:0249020103><hex:0248020103><hex:024804F201F403><hex:024904F201F503>$1<hex:0249020103><hex:0248020103>　　　　　　　　　　　").replaceAll(/一定時間、自身の与ダメージを(\d+)％上昇させる。/g,"一定时间内，自身发动攻击造成的伤害提高$1%").replaceAll("コンボ条件","连击条件　").replaceAll("コンボ時かつ背面攻撃時威力","连击中背面攻击威力　　　　").replaceAll("コンボ時かつ側面攻撃時威力","连击中侧面攻击威力　　　　").replaceAll("コンボ時かつ背面攻撃時威力","连击中背面威力　　　　　　").replaceAll("コンボボーナス","连击成功　　　").replaceAll("コンボ時威力","连击中威力　").replaceAll("背面攻撃時威力","背面攻击威力　").replaceAll("側面攻撃時威力","侧面攻击威力　").replaceAll("対象に継続ダメージを付与する。","持续伤害　　　　　　　　　　　").replaceAll("追加","追加").replaceAll("効果時間","持续时间").replaceAll("時間","时间").replaceAll("効果","效果").replaceAll("発動確率","发动几率").replaceAll("発動条件","发动条件").replace(/^対象に([火水氷雷风土光暗無])属性魔法攻撃。/,"对目标发动$1属性魔法攻击").replace(/^対象とその周囲の敵に([火水氷雷风土光暗無])属性範囲魔法攻撃。/,"对目标及其周围的敌人发动$1属性范围魔法攻击").replace(/^対象とその周囲の敵に([火水氷雷风土光暗無])属性範囲魔法攻撃。/,"对周围的敌人发动$1属性范围魔法攻击").replace(/^対象に([火水氷雷风土光暗無])属性魔法攻撃。/,"对目标发动$1属性魔法攻击").replaceAll("氷","冰").replaceAll("無","无").replaceAll("自身の周囲の敵に範囲物理攻撃。","对自身周围的敌人发动范围物理攻击").replaceAll("対象に向かって前方直線範囲物理攻撃。","向目标所在方向发出直线范围物理攻击").replaceAll(/2体目以降の対象への威力は(\d+)％減少する。/g,"攻击复数敌人时，对目标之外的敌人威力降低$1%").replaceAll("対象に物理攻撃。","对目标发动物理攻击").replaceAll("対象とその周囲の敵に範囲物理攻撃。","对目标及其周围敌人发动范围物理攻击").replaceAll("このアクションは必ずクリティカルヒットかつダイレクトヒットする。","该技能必定暴击并且直击").replaceAll("クリティカルヒットやダイレクトヒットの発動率を上昇させる効果を受けている場合は与ダメージが上昇する。","受暴击或直击发动率提高效果影响时，攻击造成的伤害提高").replaceAll("こ的ウェポンスキルは固有的リキャストタイマーを持つ。","该战技有单独计算的复唱时间").replaceAll("回復力","恢复力").replaceAll("回復力","恢复力").replaceAll("対象のＨＰを継続回復する。","令目标体力持续恢复　　　　").replaceAll("自身のＨＰを継続回復する。","令自身体力持续恢复　　　　").replaceAll("バインド中は実行不可。","止步状态下无法发动").replaceAll("クリティカルヒットやダイレクトヒットの発動率を上昇させる效果を受けている場合は与ダメージが上昇する。","受暴击或直击发动率提高效果影响时，攻击造成的伤害提高　　　　　　　　　　　　　　　　　　　　　　　　").replaceAll("の","的").replaceAll("作業効率","作业效率").replaceAll("加工効率","加工效率").replaceAll("効率","效率").replaceAll("耐久を消費して、作業を進めると同時に品質を上げる。","消耗耐久以推动作业进展，同时提高品质").replaceAll("耐久を消費して、品質を上げる。CPを消費しないが成功率が低い。","消耗耐久以提高制品品质<hex:02100103>不会消耗制作力，但是成功率比较低").replaceAll("成功率","成功率").replaceAll("％","% ").replaceAll("自身に「匠的好機」を付与する。","工匠的良机　　　　　　　　　　").replaceAll("ターン","次作业").replaceAll(/最大チャージ数：<hex:0249020103><hex:0248020103>(\d)/g,"积蓄次数：<hex:0249020103><hex:0248020103>$1　　　")}return(a,e)=>(m(),_("main",null,[Q,b(c("textarea",{id:"","onUpdate:modelValue":e[0]||(e[0]=l=>$(f)?f.value=l:null),name:"",cols:"100",rows:"1"},null,512),[[y,s(f)]]),k(" "+u(s(F))+" ",1),b(c("textarea",{id:"","onUpdate:modelValue":e[1]||(e[1]=l=>$(d)?d.value=l:null),name:"",cols:"100",rows:"1"},null,512),[[y,s(d)]]),k(" "+u(s(g))+" ",1),c("p",null,"UTF8长度差异（十六进制）："+u(s(w)),1),Y,c("div",{style:{"min-height":"2em",height:"100%",width:"35em",border:"1px solid #ccc",padding:"0.5em","background-color":"#333",color:"white","font-family":"'宋体'","font-size":"16px"},innerHTML:E(s(r))},null,8,Z),b(c("textarea",{id:"","onUpdate:modelValue":e[2]||(e[2]=l=>$(r)?r.value=l:null),"m-b-2":"","m-t-2":"",name:"",cols:"100",rows:"5",onKeyup:H},null,544),[[y,s(r)]]),c("button",{onClick:M}," 一键替换日文 "),c("article",null,[k(u(s(A).every(l=>l.passed)?"02开头指令全部通过":"可能有错误")+" ",1),c("ul",null,[(m(!0),_(X,null,O(s(A),(l,t)=>(m(),_("li",{key:t},[c("span",{style:q({color:l.passed?"black":"red"})},u(`${l.passed?"通过":"错误"} ${l.msg} ${l.full}`),5)]))),128))])])]))}});const ce=G(ee,[["__scopeId","data-v-f0514c80"]]);export{ce as default};
