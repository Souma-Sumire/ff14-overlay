import{c as H}from"./xivapi-cae66b04.js";import{a as P}from"./overlay_plugin_api-409cb9ea.js";import{d as N,B as I,o as a,b as n,g as l,u as f,J as g,K as m,i as w,p as b,l as k,t as p,I as v}from"./vendor-bdaf5e9b.js";import{_ as L}from"./index-63f1814d.js";import"./queryParams-cf2e4fb1.js";import"./util-ef9ccf87.js";const T=u=>(b("data-v-2fd8e94d"),u=u(),k(),u),B={id:"container"},D={key:0},F=T(()=>l("li",{class:"li-head"},[l("aside",null,"秒"),l("h5",null,"邪龙"),l("h5",null,"圣龙")],-1)),S={class:"xie"},C=["src"],V={class:"sheng"},E=["src"],O=N({__name:"dsrp6",setup(u){P("LogLine",y),startOverlayEvents();const c={xie:["尼德霍格","ニーズヘッグ","Nidhogg"],sheng:["赫拉斯瓦尔格","フレースヴェルグ","Hraesvelgr"]},i=I({data:[],show:!1}),r={xie:0,sheng:0};let _=0;async function y(e){var h,t,d,o;if(e.line[0]==="20"&&/^6D41$/.test(e.line[4]))i.data.length=0,i.show=!0,i.data.push({xie:[],sheng:[],xieHP:"0",shengHP:"0"}),_=new Date().getTime(),setTimeout(()=>{_=0},7700);else if(e.line[0]==="20"&&/^(?:63C8|6D21)$/.test(e.line[4]))i.data.length=0,i.show=!1,i.data.push({xie:[],sheng:[],xieHP:"0",shengHP:"0"});else if(_>0&&(e.line[0]==="21"||e.line[0]==="22")&&((t=(h=e.line)==null?void 0:h[2])==null?void 0:t[0])==="1"&&((o=(d=e.line)==null?void 0:d[6])==null?void 0:o[0])==="4"){if(e.line[4]==="07"||e.line[4]==="08")return;const s=Math.round((new Date().getTime()-_)/1e3);i.data[s]===void 0&&(i.data[s]={xie:[],sheng:[],xieHP:r.xie.toFixed(1),shengHP:r.sheng.toFixed(1)});const x=await H(Number.parseInt(e.line[4],16));c.xie.includes(e.line[7])?(r.xie=Number(e.line[24])/Number(e.line[25])*100,i.data[s].xie.push(x),i.data[s].xieHP=r.xie.toFixed(1)):c.sheng.includes(e.line[7])&&(r.sheng=Number(e.line[24])/Number(e.line[25])*100,i.data[s].sheng.push(x),i.data[s].shengHP=r.sheng.toFixed(1))}}return(e,h)=>(a(),n("div",B,[l("main",null,[f(i).show?(a(),n("ul",D,[F,(a(!0),n(g,null,m(f(i).data,(t,d)=>(a(),n("li",{class:"li-main",key:d},[l("aside",null,p(d),1),l("div",S,[v(p((t==null?void 0:t.xieHP)??"")+"%",1),(a(!0),n(g,null,m(t==null?void 0:t.xie,(o,s)=>(a(),n("img",{key:s,src:o,alt:""},null,8,C))),128))]),l("div",V,[v(p((t==null?void 0:t.shengHP)??"")+"%",1),(a(!0),n(g,null,m(t==null?void 0:t.sheng,(o,s)=>(a(),n("img",{key:s,src:o,alt:""},null,8,E))),128))])]))),128))])):w("",!0)])]))}});const q=L(O,[["__scopeId","data-v-2fd8e94d"]]);export{q as default};
