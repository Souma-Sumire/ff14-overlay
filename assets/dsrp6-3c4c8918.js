import{a as H}from"./overlay_plugin_api-409cb9ea.js";import{c as P}from"./xivapi-a5c0f7f0.js";import{d as N,J as w,o as s,e as n,t as l,u as f,F as g,L as m,a0 as I,G as L,H as b,y as c,x as v}from"./vendor-688a9a69.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";import"./util-831b56e7.js";const F=_=>(L("data-v-91c09558"),_=_(),b(),_),T={id:"container"},D={key:0},S=F(()=>l("li",{class:"li-head"},[l("aside",null,"秒"),l("h5",null,"邪龙"),l("h5",null,"圣龙")],-1)),B={class:"xie"},C=["src"],V={class:"sheng"},$=["src"],A=N({__name:"dsrp6",setup(_){H("LogLine",y);const p={xie:["尼德霍格","ニーズヘッグ","Nidhogg"],sheng:["赫拉斯瓦尔格","フレースヴェルグ","Hraesvelgr"]},i=w({data:[],show:!1}),r={xie:0,sheng:0};let h=0;async function y(e){var d,t,u,o;if(e.line[0]==="20"&&/^6D41$/.test(e.line[4]))i.data.length=0,i.show=!0,i.data.push({xie:[],sheng:[],xieHP:"0",shengHP:"0"}),h=new Date().getTime(),setTimeout(()=>{h=0},7700);else if(e.line[0]==="20"&&/^(?:63C8|6D21)$/.test(e.line[4]))i.data.length=0,i.show=!1,i.data.push({xie:[],sheng:[],xieHP:"0",shengHP:"0"});else if(h>0&&(e.line[0]==="21"||e.line[0]==="22")&&((t=(d=e.line)==null?void 0:d[2])==null?void 0:t[0])==="1"&&((o=(u=e.line)==null?void 0:u[6])==null?void 0:o[0])==="4"){if(e.line[4]==="07"||e.line[4]==="08")return;const a=Math.round((new Date().getTime()-h)/1e3);i.data[a]===void 0&&(i.data[a]={xie:[],sheng:[],xieHP:r.xie.toFixed(1),shengHP:r.sheng.toFixed(1)});const x=await P(Number.parseInt(e.line[4],16));p.xie.includes(e.line[7])?(r.xie=Number(e.line[24])/Number(e.line[25])*100,i.data[a].xie.push(x),i.data[a].xieHP=r.xie.toFixed(1)):p.sheng.includes(e.line[7])&&(r.sheng=Number(e.line[24])/Number(e.line[25])*100,i.data[a].sheng.push(x),i.data[a].shengHP=r.sheng.toFixed(1))}}return(e,d)=>(s(),n("div",T,[l("main",null,[f(i).show?(s(),n("ul",D,[S,(s(!0),n(g,null,m(f(i).data,(t,u)=>(s(),n("li",{key:u,class:"li-main"},[l("aside",null,c(u),1),l("div",B,[v(c((t==null?void 0:t.xieHP)??"")+"%",1),(s(!0),n(g,null,m(t==null?void 0:t.xie,(o,a)=>(s(),n("img",{key:a,src:o,alt:""},null,8,C))),128))]),l("div",V,[v(c((t==null?void 0:t.shengHP)??"")+"%",1),(s(!0),n(g,null,m(t==null?void 0:t.sheng,(o,a)=>(s(),n("img",{key:a,src:o,alt:""},null,8,$))),128))])]))),128))])):I("",!0)])]))}});const j=k(A,[["__scopeId","data-v-91c09558"]]);export{j as default};
